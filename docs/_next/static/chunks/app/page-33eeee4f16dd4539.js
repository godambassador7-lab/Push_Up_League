(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{796:function(e,t,s){Promise.resolve().then(s.bind(s,2043))},2043:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return e2}});var a=s(7437),r=s(2265),l=s(9625),n=s(9360);let i=[{rank:1,title:"Initiate",xpRequired:500,cumulativeXp:500},{rank:2,title:"Iron Hand",xpRequired:1500,cumulativeXp:2e3},{rank:3,title:"Vanguard",xpRequired:3e3,cumulativeXp:5e3},{rank:4,title:"Centurion",xpRequired:5e3,cumulativeXp:1e4},{rank:5,title:"Titan",xpRequired:8e3,cumulativeXp:18e3},{rank:6,title:"Ascendant",xpRequired:12e3,cumulativeXp:3e4},{rank:7,title:"Mythic",xpRequired:18e3,cumulativeXp:48e3},{rank:8,title:"Immortal",xpRequired:25e3,cumulativeXp:73e3}],d=e=>e<=3?1:e<=7?1.1:e<=14?1.25:e<=30?1.5:e<=60?1.75:2,c=(e,t,s,a)=>{let r=.25*e;return r*=d(t),s&&(r*=1+.05*s),a&&(r*=1.25),Math.min(Math.floor(r),500)},o=()=>({userId:(0,n.Z)(),username:"Champion",totalXp:0,coins:0,currentRank:1,currentRankXp:0,currentStreak:0,longestStreak:0,lastWorkoutDate:null,workouts:[],achievements:[],streakFreezes:1,division:"Rookie",goal:"Mixed",baselineMax:20,readiness:.7,activePlanId:null,planStartDate:null,bodyWeightKg:77}),x=(0,l.Ue)((e,t)=>({...o(),setUsername:t=>e({username:t}),setDivision:t=>e({division:t}),setGoal:t=>e({goal:t}),setBaselineMax:t=>e({baselineMax:t}),setReadiness:t=>e({readiness:Math.max(0,Math.min(1,t))}),setActivePlan:(t,s)=>{let a=s||new Date().toISOString().split("T")[0];e({activePlanId:t,planStartDate:t?a:null})},setBodyWeight:t=>e({bodyWeightKg:Math.max(40,Math.min(200,t))}),logWorkout:(s,a,r)=>{let l=t(),o=new Date().toISOString().split("T")[0],x=l.lastWorkoutDate,m=l.currentStreak,g=l.totalXp,p=l.coins;if(x){let e=new Date(x),t=Math.floor((new Date(o).getTime()-e.getTime())/864e5),s=Math.max(0,t-1);if(s>0){let e=Math.pow(2,s)-1;g=Math.max(0,g-2*e),p=Math.max(0,p-1*e)}m=0===t?l.currentStreak:1===t?l.currentStreak+1:1}else m=1;let h=Math.max(m,l.longestStreak),u=c(s,m,a,r),b=g+u,f=1;for(let e of i)b>=e.cumulativeXp&&(f=e.rank);i[f-1];let y=b-(f>1?i[f-2].cumulativeXp:0),j=p+Math.max(1,Math.floor((10+(a?2*a:0))*.25)),v={id:(0,n.Z)(),date:o,pushups:s,sets:a,xpEarned:u,streakMultiplier:d(m),challengeBonus:r||!1},N=[...l.achievements];7!==m||N.some(e=>"The Week"===e.title)||N.push({id:(0,n.Z)(),title:"The Week",description:"7-day streak achieved",unlockedAt:new Date().toISOString(),type:"streak"}),30!==m||N.some(e=>"The Month"===e.title)||N.push({id:(0,n.Z)(),title:"The Month",description:"30-day streak achieved",unlockedAt:new Date().toISOString(),type:"streak"}),e({totalXp:b,coins:j,currentRank:f,currentRankXp:y,currentStreak:m,longestStreak:h,lastWorkoutDate:o,workouts:[...l.workouts,v],achievements:N})},addCoins:t=>e(e=>({coins:e.coins+t})),useStreakFreeze:()=>{let s=t();s.streakFreezes>0&&e({streakFreezes:s.streakFreezes-1})},getNextRankProgress:()=>{let e=t(),s=i[e.currentRank-1],a=i[e.currentRank];if(!a)return{current:s.xpRequired,required:s.xpRequired,percent:100};let r=e.currentRank>1?i[e.currentRank-2].cumulativeXp:0,l=e.totalXp-r,n=a.xpRequired;return{current:l,required:n,percent:Math.min(100,Math.floor(l/n*100))}},calculateCurrentRank:()=>{let s=t(),a=1;for(let e of i)s.totalXp>=e.cumulativeXp&&(a=e.rank);e({currentRank:a})},getTodayWorkout:()=>{let e=t(),s=new Date().toISOString().split("T")[0];return e.workouts.find(e=>e.date===s)},getStreakStatus:()=>{let e=t(),s=new Date().toISOString().split("T")[0],a=e.workouts.find(e=>e.date===s);return{days:e.currentStreak,broken:!a&&e.lastWorkoutDate!==s}},addAchievement:(t,s,a)=>{e(e=>({achievements:[...e.achievements,{id:(0,n.Z)(),title:t,description:s,unlockedAt:new Date().toISOString(),type:a}]}))}}));var m=s(1945),g=s(1252);let p=e=>{let{rank:t,size:s="md"}=e;i[t-1];let r={sm:56,md:80,lg:96};return(0,a.jsxs)("div",{className:"relative ".concat({sm:"w-20 h-20",md:"w-28 h-28",lg:"w-32 h-32"}[s]," flex items-center justify-center"),children:[(0,a.jsx)("div",{className:"absolute drop-shadow-2xl",style:{width:r[s],height:r[s]},children:(0,a.jsxs)("svg",{width:r[s],height:r[s],viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{children:(0,a.jsx)("linearGradient",{id:"rank-gradient-".concat(t),x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:t<=2?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#cd7f32"}),(0,a.jsx)("stop",{offset:"25%",stopColor:"#b87333"}),(0,a.jsx)("stop",{offset:"50%",stopColor:"#cd7f32"}),(0,a.jsx)("stop",{offset:"75%",stopColor:"#8b4513"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#cd7f32"})]}):t<=4?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#e8e8e8"}),(0,a.jsx)("stop",{offset:"25%",stopColor:"#c0c0c0"}),(0,a.jsx)("stop",{offset:"50%",stopColor:"#a8a8a8"}),(0,a.jsx)("stop",{offset:"75%",stopColor:"#c0c0c0"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#e8e8e8"})]}):t<=6?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#ffd700"}),(0,a.jsx)("stop",{offset:"25%",stopColor:"#ffed4e"}),(0,a.jsx)("stop",{offset:"50%",stopColor:"#ffd700"}),(0,a.jsx)("stop",{offset:"75%",stopColor:"#ffb700"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#ffd700"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#9d4edd"}),(0,a.jsx)("stop",{offset:"25%",stopColor:"#d946ef"}),(0,a.jsx)("stop",{offset:"50%",stopColor:"#dc2626"}),(0,a.jsx)("stop",{offset:"75%",stopColor:"#9d4edd"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#7b2cbf"})]})})}),(0,a.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",fill:"url(#rank-gradient-".concat(t,")"),stroke:"rgba(0,0,0,0.3)",strokeWidth:"1.5"})]})}),(0,a.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:(0,a.jsx)("div",{className:"font-black text-white text-shadow-lg",style:{fontSize:"sm"===s?"20px":"md"===s?"28px":"36px"},children:t})})]})};var h=s(4891),u=s(6124),b=s(4906),f=s(1119),y=s(620),j=s(1996),v=s(3883),N=s(607),w=s(6606),k=s(7683),S=s(8279),C=s(7367),I=s(217),R=s(2543),D=s(1340),z=s(6339),P=s(3739),T=s(8251),E=s(4300),L=s(8055),F=s(4754);let M=()=>{var e,t;let[s,l]=(0,r.useState)("all"),[n,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(null),o=(0,m.CT)(e=>e.coins),x=(0,m.CT)(e=>e.purchasedTitles),p=(0,m.CT)(e=>e.activeTitle),h=(0,m.CT)(e=>e.purchaseTitle),u=(0,m.CT)(e=>e.equipTitle),b=g.iS.filter(e=>{let t="all"===s||e.category===s,a=e.name.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase());return t&&a}),f=[...b].sort((e,t)=>t.price-e.price),j=f.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),v=e=>{let t=h(e.id,e.price);c({type:t.success?"success":"error",text:t.message}),setTimeout(()=>c(null),3e3)},N=e=>{u(e),c({type:"success",text:e?"Title equipped!":"Title unequipped!"}),setTimeout(()=>c(null),2e3)},w=e=>x.includes(e),k=e=>p===e,S=e=>o>=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-black text-hero text-accent",children:"Title Shop"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Purchase unique titles with your coins"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 glass glass-border rounded-lg px-4 py-2",children:[(0,a.jsx)(E.Z,{size:20,className:"text-warning"}),(0,a.jsx)("span",{className:"text-xl font-bold text-white",children:o})]})]}),d&&(0,a.jsx)("div",{className:"glass-light rounded-lg p-4 border ".concat("success"===d.type?"border-success text-success":"border-red-500 text-red-400"," animate-fade-in"),children:d.text}),(0,a.jsx)("div",{className:"glass glass-border rounded-lg p-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Search titles...",value:n,onChange:e=>i(e.target.value),className:"w-full bg-dark-card border border-dark-border rounded-lg px-4 py-2 text-white outline-none focus:border-accent transition"})}),(0,a.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[(0,a.jsxs)("button",{onClick:()=>l("all"),className:"px-4 py-2 rounded-lg font-display font-bold uppercase text-sm whitespace-nowrap transition ".concat("all"===s?"bg-accent text-dark":"glass-light border border-dark-border text-gray-400 hover:border-accent/50"),children:["All (",g.iS.length,")"]}),["legendary","epic","rare","uncommon","common"].map(e=>{let t=g.iS.filter(t=>t.category===e).length;return(0,a.jsxs)("button",{onClick:()=>l(e),className:"px-4 py-2 rounded-lg font-display font-bold uppercase text-sm whitespace-nowrap transition ".concat(s===e?(0,g.W9)(e):"glass-light border border-dark-border text-gray-400 hover:border-accent/50"),children:[(0,g.qS)(e)," (",t,")"]},e)})]}),p&&(0,a.jsx)("div",{className:"glass glass-border rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Currently Equipped"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(L.Z,{size:24,className:"text-accent",fill:"currentColor"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-black text-hero text-accent",children:null===(e=g.iS.find(e=>e.id===p))||void 0===e?void 0:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:null===(t=g.iS.find(e=>e.id===p))||void 0===t?void 0:t.description})]})]})]}),(0,a.jsx)("button",{onClick:()=>N(null),className:"px-4 py-2 glass-light border border-dark-border rounded-lg text-sm font-display hover:border-red-500 hover:text-red-400 transition",children:"Unequip"})]})}),"all"===s?(0,a.jsx)("div",{className:"space-y-8",children:["legendary","epic","rare","uncommon","common"].map(e=>{let t=j[e];return t&&0!==t.length?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"text-lg font-black text-hero uppercase tracking-wider ".concat((0,g.W9)(e).split(" ")[0]),children:[(0,g.qS)(e)," Titles"]}),(0,a.jsx)("div",{className:"flex-1 h-px bg-dark-border"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,a.jsx)(Z,{title:e,isPurchased:w(e.id),isEquipped:k(e.id),canAfford:S(e.price),onPurchase:()=>v(e),onEquip:()=>N(e.id)},e.id))})]},e):null})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(e=>(0,a.jsx)(Z,{title:e,isPurchased:w(e.id),isEquipped:k(e.id),canAfford:S(e.price),onPurchase:()=>v(e),onEquip:()=>N(e.id)},e.id))}),0===b.length&&(0,a.jsxs)("div",{className:"text-center py-12 glass glass-border rounded-lg",children:[(0,a.jsx)(y.Z,{size:48,className:"mx-auto text-gray-600 mb-4"}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-400",children:"No titles found"}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mt-2",children:"Try a different search or category"})]})]})},Z=e=>{let{title:t,isPurchased:s,isEquipped:r,canAfford:l,onPurchase:n,onEquip:i}=e;return(0,a.jsxs)("div",{className:"glass-light rounded-lg border ".concat((0,g.W9)(t.category).split(" ")[1]," p-4 space-y-3 transition hover:scale-105"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-xs font-bold uppercase tracking-wider px-2 py-1 rounded ".concat((0,g.W9)(t.category)),children:(0,g.qS)(t.category)}),r&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-accent font-bold",children:[(0,a.jsx)(L.Z,{size:14,fill:"currentColor"}),"Equipped"]})]}),(0,a.jsxs)("div",{className:"min-h-[3rem]",children:[(0,a.jsx)("div",{className:"text-lg font-black text-hero ".concat((0,g.W9)(t.category).split(" ")[0]),children:t.name}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:t.description})]}),(0,a.jsx)("div",{className:"pt-3 border-t border-dark-border",children:s?(0,a.jsx)("button",{onClick:i,disabled:r,className:"w-full py-2 rounded-lg font-display font-bold flex items-center justify-center gap-2 transition ".concat(r?"bg-success/20 border border-success text-success cursor-default":"glass-light border border-accent text-accent hover:bg-accent/10"),children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.Z,{size:16}),(0,a.jsx)("span",{children:"Equipped"})]}):(0,a.jsx)("span",{children:"Equip"})}):(0,a.jsx)("button",{onClick:n,disabled:!l,className:"w-full py-2 rounded-lg font-display font-bold flex items-center justify-center gap-2 transition ".concat(l?"bg-gradient-to-r from-accent to-electric-blue text-dark hover:shadow-lg hover:shadow-accent/50":"glass-light border border-dark-border text-gray-500 cursor-not-allowed"),children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.Z,{size:16}),(0,a.jsx)("span",{children:t.price})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Z,{size:16}),(0,a.jsxs)("span",{children:[t.price," (Not enough coins)"]})]})})})]})};var A=s(857),_=s(7059);let W=()=>{let[e,t]=(0,r.useState)(null),s=(0,m.CT)(e=>e.coins),l=(0,m.CT)(e=>e.streakFreezes),n=(0,m.CT)(e=>e.activePowerUps),i=(0,m.CT)(e=>e.purchasePowerUp),d=e=>{let s=i(e);t({type:s.success?"success":"error",text:s.message}),setTimeout(()=>t(null),3e3)},c=e=>s>=e,o=e=>"streak_freeze"===e?l:n.filter(t=>t.type===e&&!t.used).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-black text-hero text-accent",children:"Power-Ups Shop"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Boost your performance and protect your streak"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 glass glass-border rounded-lg px-4 py-2",children:[(0,a.jsx)(E.Z,{size:20,className:"text-warning"}),(0,a.jsx)("span",{className:"text-xl font-bold text-white",children:s})]})]}),e&&(0,a.jsx)("div",{className:"glass-light rounded-lg p-4 border ".concat("success"===e.type?"border-success text-success":"border-red-500 text-red-400"," animate-fade-in"),children:e.text}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(A.POWER_UPS).map(e=>{let t=o(e.id),r=c(e.price),l=e.maxPurchase&&t>=e.maxPurchase;return(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-accent/30 p-6 space-y-4 hover:border-accent transition",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-4xl",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-black text-hero text-accent",children:e.name}),e.duration&&(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Duration: ",e.duration]})]})]}),t>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1 glass border border-success/50 rounded-lg text-success text-sm font-bold",children:[(0,a.jsx)(F.Z,{size:14}),(0,a.jsx)("span",{children:t})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-300",children:e.description}),(0,a.jsx)("div",{className:"pt-4 border-t border-dark-border",children:l?(0,a.jsxs)("div",{className:"w-full py-3 rounded-lg bg-dark-border text-gray-500 text-center font-bold",children:["Max Owned (",e.maxPurchase,")"]}):(0,a.jsx)("button",{onClick:()=>d(e.id),disabled:!r,className:"w-full py-3 rounded-lg font-display font-bold flex items-center justify-center gap-2 transition ".concat(r?"bg-gradient-to-r from-accent to-electric-blue text-dark hover:shadow-lg hover:shadow-accent/50":"glass-light border border-dark-border text-gray-500 cursor-not-allowed"),children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.Z,{size:18}),(0,a.jsxs)("span",{children:["Buy for ",e.price]}),(0,a.jsx)(E.Z,{size:16,className:"text-warning"})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("span",{children:["Need ",e.price-s," more coins"]})})})}),e.maxPurchase&&!l&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["Max: ",e.maxPurchase," | Owned: ",t]})]},e.id)})}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-accent",children:[(0,a.jsx)(b.Z,{size:20}),(0,a.jsx)("span",{className:"font-bold text-hero",children:"How Power-Ups Work"})]}),(0,a.jsxs)("ul",{className:"text-sm text-gray-300 space-y-2 pl-4",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent mt-1",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Streak Freeze:"})," Protects your streak if you miss a day. Use it proactively before breaking your streak!"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent mt-1",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Double XP:"})," Automatically activates on your next workout for 2x XP gains."]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent mt-1",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Challenge Reroll:"})," Instantly rerolls your current daily challenge."]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent mt-1",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Goal Reducer:"})," Reduces today's goal by 25% for a recovery day."]})]})]})]})]})};var O=s(3107);function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standard",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:77,a=Math.round(.04*s/10*e*function(e){let t=(0,O.getPushUpTypeData)(e).xpMultiplier;return t<1?t+.2:t<=1.2?t:t<=1.5?.95*t:t<=2?.9*t:.85*t}(t)*10)/10,r="";return r=a<5?"Every rep counts! Small sessions add up over time.":a<15?"Solid work! Consistency beats intensity.":a<30?"Great session! Your strength gains matter more than calories.":a<50?"High-volume session! Muscle-building mode activated.":"Beast mode! You earned the afterburn effect.",{calories:a,reps:e,pushupType:t,bodyWeightKg:s,message:r}}function U(e){return Math.round(22.0462*e)/10}var q=s(1359),V=s(512);let X=()=>{let{workouts:e,bodyWeightKg:t,setBodyWeight:s}=x(),[l,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)("lbs"),[c,o]=(0,r.useState)(!1),[m,g]=(0,r.useState)("kg"===i?t:U(t)),p=(0,r.useMemo)(()=>{let s=new Date().toISOString().split("T")[0],a=e.filter(e=>e.date===s),r=0;return a.forEach(e=>{let{calories:s}=B(e.pushups,"standard",t);r+=s}),Math.round(10*r)/10},[e,t]),h=(0,r.useMemo)(()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:77,s=new Date,a=new Date(s.getTime()-6048e5),r=e.filter(e=>{let t=new Date(e.date);return t>=a&&t<=s}),l=new Map;r.forEach(e=>{let{calories:s}=B(e.reps,e.pushupType,t),a=l.get(e.date)||{calories:0,reps:0};l.set(e.date,{calories:a.calories+s,reps:a.reps+e.reps})});let n=0,i=0,d={date:"",calories:0};l.forEach((e,t)=>{n+=e.calories,i+=e.reps,e.calories>d.calories&&(d={date:t,calories:e.calories})});let c=l.size>0?n/7:0,o=i>300;return{totalCalories:Math.round(10*n)/10,totalReps:i,averageCaloriesPerDay:Math.round(10*c)/10,highestDay:d,afterburnBonus:o}})(e.map(e=>({date:e.date,reps:e.pushups,pushupType:"standard"})),t),[e,t]);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{size:24,className:"text-error"}),(0,a.jsx)("h3",{className:"text-xl font-black text-white",children:"Calorie Tracker"})]}),(0,a.jsx)("button",{onClick:()=>n(!l),className:"p-2 glass-light rounded-lg hover:bg-accent/10 transition",children:(0,a.jsx)(v.Z,{size:18,className:"text-accent"})})]}),l&&(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-white",children:"Body Weight"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Used to estimate calories burned"})]}),!c&&(0,a.jsx)("button",{onClick:()=>o(!0),className:"px-3 py-1.5 text-xs glass-light border border-accent/50 rounded hover:bg-accent/10 transition text-accent font-bold",children:"Edit"})]}),c?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",min:"kg"===i?40:88,max:"kg"===i?200:440,step:"kg"===i?.5:1,value:m,onChange:e=>g(Number(e.target.value)),className:"flex-1 px-3 py-2 glass-light border border-accent/50 rounded text-white text-center font-bold"}),(0,a.jsx)("button",{onClick:()=>{let e="kg"===i?"lbs":"kg";d(e),g("kg"===e?t:U(t))},className:"px-3 py-2 glass-light border border-dark-border rounded text-accent text-sm font-bold hover:bg-accent/10 transition",children:i}),(0,a.jsx)("button",{onClick:()=>{s("kg"===i?m:Math.round(4.53592*m)/10),o(!1)},className:"px-4 py-2 bg-accent text-dark rounded font-bold hover:bg-accent-light transition",children:"Save"}),(0,a.jsx)("button",{onClick:()=>o(!1),className:"px-3 py-2 glass-light border border-dark-border rounded text-gray-400 text-sm hover:text-white transition",children:"Cancel"})]}):(0,a.jsxs)("div",{className:"text-center p-2 glass-light border border-dark-border rounded",children:[(0,a.jsx)("span",{className:"text-2xl font-black text-accent",children:"kg"===i?t:U(t)}),(0,a.jsx)("span",{className:"text-sm text-gray-400 ml-2",children:i})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-electric-blue/5 border border-electric-blue/30 rounded",children:[(0,a.jsx)(N.Z,{size:16,className:"text-electric-blue flex-shrink-0 mt-0.5"}),(0,a.jsxs)("p",{className:"text-xs text-gray-300 leading-relaxed",children:[(0,a.jsx)("span",{className:"font-bold text-white",children:"Note:"})," Calorie estimates are based on body weight, reps, and push-up difficulty. Strength exercises burn fewer calories than cardio—but build muscle that increases daily burn."]})]})]}),(0,a.jsx)("div",{className:"glass glass-border rounded-lg p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Estimated Calories Burned Today"}),(0,a.jsx)("div",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-error to-warning mb-2",children:p}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-4",children:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?"Calories burned today are lower, but your strength score increased. Building muscle > burning calories!":e>=50?"Outstanding calorie burn! Your metabolism will be elevated for hours.":e>=30?"Great work! These strength gains will increase your daily calorie burn.":e>=15?"Solid effort! Remember: muscle-building creates long-term fat loss.":e>=5?"Every session counts! Consistency builds muscle that burns calories 24/7.":"Quality over quantity! Perfect form builds strength more than high reps."}(p)})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(j.Z,{size:16,className:"text-warning"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Weekly Total"})]}),(0,a.jsx)("div",{className:"text-2xl font-black text-warning",children:h.totalCalories}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[h.totalReps," total reps"]})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(q.Z,{size:16,className:"text-accent"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Daily Avg"})]}),(0,a.jsx)("div",{className:"text-2xl font-black text-accent",children:h.averageCaloriesPerDay}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"per day (7 days)"})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(V.Z,{size:16,className:"text-electric-blue"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Highest Day"})]}),(0,a.jsx)("div",{className:"text-2xl font-black text-electric-blue",children:h.highestDay.calories||0}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:h.highestDay.date?new Date(h.highestDay.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A"})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 ".concat(h.afterburnBonus?"border-success/50 bg-success/5":""),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(j.Z,{size:16,className:h.afterburnBonus?"text-success":"text-gray-500"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Afterburn"})]}),(0,a.jsx)("div",{className:"text-lg font-black ".concat(h.afterburnBonus?"text-success":"text-gray-500"),children:h.afterburnBonus?"ACTIVE":"Inactive"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:h.afterburnBonus?"High-volume week!":"Need 300+ reps"})]})]}),(0,a.jsx)("div",{className:"glass glass-border rounded-lg p-4 bg-accent/5 border-accent/30",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(V.Z,{size:20,className:"text-accent flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-accent mb-1",children:"XP is Your Primary Reward"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 leading-relaxed",children:"Calories are a secondary metric. Focus on XP gains and strength progression. Weekly calorie totals matter more than daily burns. Building muscle increases your resting metabolic rate!"})]})]})})]})},H=e=>{let{onClose:t}=e,[s,l]=(0,r.useState)("main"),[n,i]=(0,r.useState)(!0),[d,c]=(0,r.useState)(!1),[o,x]=(0,r.useState)(!1),g=(0,m.CT)(e=>e.username),p=(0,m.CT)(e=>e.email),E=(0,m.CT)(e=>e.proficiency),L=(0,m.CT)(e=>e.maxPushupsInOneSet),F=(0,m.CT)(e=>e.isAuthenticated),Z=(0,m.CT)(e=>e.totalXp),A=(0,m.CT)(e=>e.workouts),_=(0,m.CT)(e=>e.logout),O=async()=>{await T.Dw.forceSyncNow(),c(!0),setTimeout(()=>c(!1),2e3)};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-dark/80 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"".concat("shop"===s||"powerups"===s?"max-w-6xl":"max-w-2xl"," w-full glass glass-border rounded-2xl overflow-hidden animate-fade-in transition-all"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-dark-border",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold font-display text-accent",children:["main"===s&&"Menu","settings"===s&&"Settings","profile"===s&&"Profile","privacy"===s&&"Privacy","about"===s&&"About","shop"===s&&"Title Shop","powerups"===s&&"Power-Ups Shop","calories"===s&&"Calorie Tracker"]}),(0,a.jsx)("button",{onClick:t,className:"p-2 hover:bg-accent/10 rounded-lg transition",children:(0,a.jsx)(h.Z,{size:24})})]}),(0,a.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:["main"===s&&(0,a.jsxs)("div",{className:"space-y-4",children:[F&&(0,a.jsx)("div",{className:"p-4 glass-light rounded-lg border border-dark-border mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-accent to-electric-blue flex items-center justify-center",children:(0,a.jsx)(u.Z,{size:24,className:"text-dark"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-white",children:g}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:p})]})]})}),(0,a.jsxs)("button",{onClick:()=>l("powerups"),className:"w-full p-4 glass-light rounded-lg border border-electric-blue/50 hover:border-electric-blue transition flex items-center justify-between group bg-electric-blue/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(b.Z,{size:20,className:"text-electric-blue"}),(0,a.jsx)("span",{className:"font-display text-electric-blue",children:"Power-Ups Shop"})]}),(0,a.jsx)(f.Z,{size:20,className:"text-electric-blue/60 group-hover:text-electric-blue transition"})]}),(0,a.jsxs)("button",{onClick:()=>l("shop"),className:"w-full p-4 glass-light rounded-lg border border-warning/50 hover:border-warning transition flex items-center justify-between group bg-warning/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(y.Z,{size:20,className:"text-warning"}),(0,a.jsx)("span",{className:"font-display text-warning",children:"Title Shop"})]}),(0,a.jsx)(f.Z,{size:20,className:"text-warning/60 group-hover:text-warning transition"})]}),(0,a.jsxs)("button",{onClick:()=>l("calories"),className:"w-full p-4 glass-light rounded-lg border border-error/50 hover:border-error transition flex items-center justify-between group bg-error/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(j.Z,{size:20,className:"text-error"}),(0,a.jsx)("span",{className:"font-display text-error",children:"Calorie Tracker"})]}),(0,a.jsx)(f.Z,{size:20,className:"text-error/60 group-hover:text-error transition"})]}),(0,a.jsxs)("button",{onClick:()=>l("settings"),className:"w-full p-4 glass-light rounded-lg border border-dark-border hover:border-accent/50 transition flex items-center justify-between group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v.Z,{size:20,className:"text-accent"}),(0,a.jsx)("span",{className:"font-display",children:"Settings"})]}),(0,a.jsx)(f.Z,{size:20,className:"text-gray-400 group-hover:text-accent transition"})]}),(0,a.jsxs)("button",{onClick:()=>l("about"),className:"w-full p-4 glass-light rounded-lg border border-dark-border hover:border-accent/50 transition flex items-center justify-between group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(N.Z,{size:20,className:"text-accent"}),(0,a.jsx)("span",{className:"font-display",children:"About"})]}),(0,a.jsx)(f.Z,{size:20,className:"text-gray-400 group-hover:text-accent transition"})]}),F&&(0,a.jsxs)("button",{onClick:()=>{_(),t()},className:"w-full p-4 glass-light rounded-lg border border-red-500/50 hover:border-red-500 transition flex items-center justify-center gap-3 text-red-400 hover:text-red-300 mt-8",children:[(0,a.jsx)(w.Z,{size:20}),(0,a.jsx)("span",{className:"font-display",children:"Logout"})]})]}),"powerups"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("button",{onClick:()=>l("main"),className:"text-sm text-accent hover:text-accent-light flex items-center gap-2 mb-4",children:"← Back to Menu"}),(0,a.jsx)(W,{})]}),"shop"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("button",{onClick:()=>l("main"),className:"text-sm text-accent hover:text-accent-light flex items-center gap-2 mb-4",children:"← Back to Menu"}),(0,a.jsx)(M,{})]}),"settings"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("button",{onClick:()=>l("main"),className:"text-sm text-accent hover:text-accent-light flex items-center gap-2 mb-4",children:"← Back to Menu"}),(0,a.jsx)("div",{className:"glass-light rounded-lg border border-electric-blue/50 p-4 bg-electric-blue/5",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(k.Z,{size:24,className:"text-electric-blue flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h4",{className:"font-display text-electric-blue mb-1 flex items-center gap-2",children:["Push-Up Form Tutorials Coming Soon",(0,a.jsx)(S.Z,{size:16,className:"text-electric-blue/60"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-300 leading-relaxed mb-2",children:"We're working on comprehensive video tutorials for all 58 push-up variations to help you master proper form and technique."}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 leading-relaxed",children:[(0,a.jsx)("span",{className:"font-bold text-white",children:"In the meantime:"})," Please reference YouTube or other trusted fitness sources to ensure correct form. Proper technique is essential for preventing injury and maximizing gains."]})]})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider font-display",children:"Account"}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-dark-border overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>l("profile"),className:"w-full p-4 flex items-center justify-between hover:bg-accent/10 transition group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.Z,{size:18,className:"text-accent"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-sm font-display",children:"Profile"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Manage your profile information"})]})]}),(0,a.jsx)(f.Z,{size:18,className:"text-gray-400 group-hover:text-accent transition"})]}),(0,a.jsx)("div",{className:"border-t border-dark-border"}),(0,a.jsxs)("button",{onClick:()=>l("privacy"),className:"w-full p-4 flex items-center justify-between hover:bg-accent/10 transition group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(C.Z,{size:18,className:"text-accent"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-sm font-display",children:"Privacy"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Data and privacy settings"})]})]}),(0,a.jsx)(f.Z,{size:18,className:"text-gray-400 group-hover:text-accent transition"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider font-display",children:"App"}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-dark-border p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(I.Z,{size:18,className:"text-accent"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-display",children:"Notifications"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Workout reminders and achievements"})]})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:n,onChange:()=>{i(!n),!n&&"Notification"in window&&Notification.requestPermission()}}),(0,a.jsx)("div",{className:"w-11 h-6 bg-dark-border rounded-full peer peer-checked:bg-accent transition"}),(0,a.jsx)("div",{className:"absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition peer-checked:translate-x-5"})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between border-t border-dark-border pt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(R.Z,{size:18,className:"text-accent"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-display",children:"Theme"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Dark mode (default)"})]})]})}),(0,a.jsxs)("button",{onClick:O,className:"w-full flex items-center justify-between border-t border-dark-border pt-4 hover:opacity-80 transition",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(D.Z,{size:18,className:"text-accent"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-sm font-display",children:"Data Storage"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:F?"Local + Firebase sync":"Local only"})]})]}),F&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:d?(0,a.jsx)("span",{className:"text-xs text-success",children:"✓ Synced"}):(0,a.jsx)(z.Z,{size:16,className:"text-accent"})})]})]}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-red-500/30 p-4 mt-6",children:[(0,a.jsx)("div",{className:"text-xs text-red-400 uppercase tracking-wider font-display mb-3",children:"Danger Zone"}),(0,a.jsxs)("button",{onClick:()=>{o?(localStorage.clear(),window.location.reload()):(x(!0),setTimeout(()=>x(!1),3e3))},className:"w-full p-3 glass-light rounded-lg border border-red-500/50 hover:border-red-500 transition flex items-center justify-center gap-2 text-red-400 hover:text-red-300",children:[(0,a.jsx)(P.Z,{size:16}),(0,a.jsx)("span",{className:"text-sm font-display",children:o?"Click again to confirm":"Clear All Local Data"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:o?"This cannot be undone!":"Removes all data from this device"})]})]})]}),"profile"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("button",{onClick:()=>l("settings"),className:"text-sm text-accent hover:text-accent-light flex items-center gap-2 mb-4",children:"← Back to Settings"}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-dark-border p-6 space-y-6",children:[(0,a.jsx)("h3",{className:"font-display text-lg text-accent",children:"Profile Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Username"}),(0,a.jsx)("div",{className:"glass-light border border-dark-border rounded-lg px-4 py-3 text-white",children:g})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Email"}),(0,a.jsx)("div",{className:"glass-light border border-dark-border rounded-lg px-4 py-3 text-white",children:p||"Not set"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Proficiency Level"}),(0,a.jsx)("div",{className:"glass-light border border-dark-border rounded-lg px-4 py-3 text-accent font-bold capitalize",children:E})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Max Push-ups (One Set)"}),(0,a.jsx)("div",{className:"glass-light border border-dark-border rounded-lg px-4 py-3 text-accent font-bold",children:L})]}),(0,a.jsxs)("div",{className:"border-t border-dark-border pt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Total XP"}),(0,a.jsx)("span",{className:"text-white font-bold",children:Z.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Workouts Logged"}),(0,a.jsx)("span",{className:"text-white font-bold",children:A.length})]})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Profile editing coming soon"})]})]}),"privacy"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("button",{onClick:()=>l("settings"),className:"text-sm text-accent hover:text-accent-light flex items-center gap-2 mb-4",children:"← Back to Settings"}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-dark-border p-6 space-y-6",children:[(0,a.jsx)("h3",{className:"font-display text-lg text-accent",children:"Privacy & Data"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-display mb-2",children:"Data Collection"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 leading-relaxed",children:"We only collect data necessary for app functionality: workout logs, achievements, and profile information. No personal data is sold or shared with third parties."})]}),(0,a.jsxs)("div",{className:"border-t border-dark-border pt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-display mb-2",children:"Data Storage"}),(0,a.jsxs)("ul",{className:"text-xs text-gray-400 space-y-2",children:[(0,a.jsx)("li",{children:"• Local data stored on your device"}),(0,a.jsx)("li",{children:"• Cloud backup via Firebase (when authenticated)"}),(0,a.jsx)("li",{children:"• End-to-end encryption for sensitive data"}),(0,a.jsx)("li",{children:"• You can delete your data anytime"})]})]}),(0,a.jsxs)("div",{className:"border-t border-dark-border pt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-display mb-2",children:"Account Deletion"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:"To delete your account and all associated data, please contact support."}),(0,a.jsx)("button",{onClick:()=>alert("Support: pushup-league@support.com"),className:"text-xs text-accent hover:text-accent-light underline",children:"Request Account Deletion"})]})]})]})]}),"about"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("button",{onClick:()=>l("main"),className:"text-sm text-accent hover:text-accent-light flex items-center gap-2 mb-4",children:"← Back to Menu"}),(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-24 h-24 mx-auto rounded-2xl bg-gradient-to-br from-accent to-electric-blue flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-4xl font-bold text-dark",children:"PL"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold font-display text-accent",children:"Push-Up League"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Version 1.0.0"})]})]}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-dark-border p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-display text-accent mb-2",children:"About the App"}),(0,a.jsx)("p",{className:"text-sm text-gray-300 leading-relaxed",children:"Push-Up League is a gamified fitness tracking app designed to help you build unstoppable discipline through consistent push-up training. Track your progress, compete on global leaderboards, and achieve your fitness goals."})]}),(0,a.jsxs)("div",{className:"border-t border-dark-border pt-4",children:[(0,a.jsx)("h4",{className:"font-display text-accent mb-2",children:"Key Features"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-300 space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent mt-1",children:"•"}),(0,a.jsx)("span",{children:"Advanced proficiency system with integrity validation"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent mt-1",children:"•"}),(0,a.jsx)("span",{children:"Dual leaderboards for standard and world-class athletes"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent mt-1",children:"•"}),(0,a.jsx)("span",{children:"Day locking system to preserve workout integrity"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent mt-1",children:"•"}),(0,a.jsx)("span",{children:"Firebase cloud sync with offline support"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent mt-1",children:"•"}),(0,a.jsx)("span",{children:"Dynamic daily goals based on your progression"})]})]})]}),(0,a.jsxs)("div",{className:"border-t border-dark-border pt-4",children:[(0,a.jsx)("h4",{className:"font-display text-accent mb-2",children:"Built With"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["Next.js 14","React","TypeScript","Firebase","Tailwind CSS","Zustand"].map(e=>(0,a.jsx)("span",{className:"px-3 py-1 glass rounded-full text-xs text-gray-300 border border-dark-border",children:e},e))})]})]}),(0,a.jsxs)("div",{className:"text-center text-xs text-gray-500 pt-4",children:[(0,a.jsx)("p",{children:"Created with dedication to fitness and discipline"}),(0,a.jsx)("p",{className:"mt-1",children:"\xa9 2025 Push-Up League. All rights reserved."})]})]}),"calories"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("button",{onClick:()=>l("main"),className:"text-sm text-accent hover:text-accent-light flex items-center gap-2 mb-4",children:"← Back to Menu"}),(0,a.jsx)(X,{})]})]})]})})};var G=s(420),Y=s(29),K=s.n(Y);let J=e=>{let{streak:t,isBroken:s,size:r=12}=e;if(0===t||s)return(0,a.jsx)("span",{className:"text-base",children:"\uD83E\uDDCA"});let l=t>=41?{color:"text-gray-900",glow:"drop-shadow-[0_0_16px_rgba(255,255,255,1)] drop-shadow-[0_0_8px_rgba(255,255,255,1)]",animation:"animate-flame-intense"}:t>=31?{color:"text-purple-500",glow:"drop-shadow-[0_0_16px_rgba(168,85,247,1)] drop-shadow-[0_0_8px_rgba(168,85,247,0.8)]",animation:"animate-flame-strong"}:t>=21?{color:"text-blue-500",glow:"drop-shadow-[0_0_16px_rgba(59,130,246,1)] drop-shadow-[0_0_8px_rgba(59,130,246,0.8)]",animation:"animate-flame-strong"}:t>=11?{color:"text-green-500",glow:"drop-shadow-[0_0_16px_rgba(34,197,94,1)] drop-shadow-[0_0_8px_rgba(34,197,94,0.8)]",animation:"animate-flame-medium"}:{color:"text-accent",glow:"drop-shadow-[0_0_12px_rgba(0,188,212,0.9)] drop-shadow-[0_0_6px_rgba(0,188,212,0.6)]",animation:"animate-flame-regular"};return(0,a.jsxs)("div",{className:"jsx-3ec279523abed53d relative inline-block",children:[(0,a.jsx)(j.Z,{size:r,className:"".concat(l.color," ").concat(l.glow," ").concat(l.animation),fill:"currentColor"}),(0,a.jsx)(K(),{id:"3ec279523abed53d",children:"@-webkit-keyframes flame-regular{0%,100%{opacity:1;-webkit-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:brightness(1);filter:brightness(1)}20%{opacity:.85;-webkit-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);-webkit-filter:brightness(1.1);filter:brightness(1.1)}40%{opacity:1;-webkit-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);-webkit-filter:brightness(.95);filter:brightness(.95)}60%{opacity:.9;-webkit-transform:scale(1.05)rotate(-1deg);transform:scale(1.05)rotate(-1deg);-webkit-filter:brightness(1.05);filter:brightness(1.05)}80%{opacity:1;-webkit-transform:scale(.98)rotate(1deg);transform:scale(.98)rotate(1deg);-webkit-filter:brightness(.98);filter:brightness(.98)}}@-moz-keyframes flame-regular{0%,100%{opacity:1;-moz-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:brightness(1)}20%{opacity:.85;-moz-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);filter:brightness(1.1)}40%{opacity:1;-moz-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);filter:brightness(.95)}60%{opacity:.9;-moz-transform:scale(1.05)rotate(-1deg);transform:scale(1.05)rotate(-1deg);filter:brightness(1.05)}80%{opacity:1;-moz-transform:scale(.98)rotate(1deg);transform:scale(.98)rotate(1deg);filter:brightness(.98)}}@-o-keyframes flame-regular{0%,100%{opacity:1;-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:brightness(1)}20%{opacity:.85;-o-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);filter:brightness(1.1)}40%{opacity:1;-o-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);filter:brightness(.95)}60%{opacity:.9;-o-transform:scale(1.05)rotate(-1deg);transform:scale(1.05)rotate(-1deg);filter:brightness(1.05)}80%{opacity:1;-o-transform:scale(.98)rotate(1deg);transform:scale(.98)rotate(1deg);filter:brightness(.98)}}@keyframes flame-regular{0%,100%{opacity:1;-webkit-transform:scale(1)rotate(0deg);-moz-transform:scale(1)rotate(0deg);-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:brightness(1);filter:brightness(1)}20%{opacity:.85;-webkit-transform:scale(1.1)rotate(-2deg);-moz-transform:scale(1.1)rotate(-2deg);-o-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);-webkit-filter:brightness(1.1);filter:brightness(1.1)}40%{opacity:1;-webkit-transform:scale(.95)rotate(2deg);-moz-transform:scale(.95)rotate(2deg);-o-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);-webkit-filter:brightness(.95);filter:brightness(.95)}60%{opacity:.9;-webkit-transform:scale(1.05)rotate(-1deg);-moz-transform:scale(1.05)rotate(-1deg);-o-transform:scale(1.05)rotate(-1deg);transform:scale(1.05)rotate(-1deg);-webkit-filter:brightness(1.05);filter:brightness(1.05)}80%{opacity:1;-webkit-transform:scale(.98)rotate(1deg);-moz-transform:scale(.98)rotate(1deg);-o-transform:scale(.98)rotate(1deg);transform:scale(.98)rotate(1deg);-webkit-filter:brightness(.98);filter:brightness(.98)}}@-webkit-keyframes flame-medium{0%,100%{opacity:1;-webkit-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:brightness(1);filter:brightness(1)}15%{opacity:.8;-webkit-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);-webkit-filter:brightness(1.2);filter:brightness(1.2)}35%{opacity:1;-webkit-transform:scale(.9)rotate(3deg);transform:scale(.9)rotate(3deg);-webkit-filter:brightness(.9);filter:brightness(.9)}55%{opacity:.85;-webkit-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);-webkit-filter:brightness(1.1);filter:brightness(1.1)}75%{opacity:1;-webkit-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);-webkit-filter:brightness(.95);filter:brightness(.95)}}@-moz-keyframes flame-medium{0%,100%{opacity:1;-moz-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:brightness(1)}15%{opacity:.8;-moz-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);filter:brightness(1.2)}35%{opacity:1;-moz-transform:scale(.9)rotate(3deg);transform:scale(.9)rotate(3deg);filter:brightness(.9)}55%{opacity:.85;-moz-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);filter:brightness(1.1)}75%{opacity:1;-moz-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);filter:brightness(.95)}}@-o-keyframes flame-medium{0%,100%{opacity:1;-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:brightness(1)}15%{opacity:.8;-o-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);filter:brightness(1.2)}35%{opacity:1;-o-transform:scale(.9)rotate(3deg);transform:scale(.9)rotate(3deg);filter:brightness(.9)}55%{opacity:.85;-o-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);filter:brightness(1.1)}75%{opacity:1;-o-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);filter:brightness(.95)}}@keyframes flame-medium{0%,100%{opacity:1;-webkit-transform:scale(1)rotate(0deg);-moz-transform:scale(1)rotate(0deg);-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:brightness(1);filter:brightness(1)}15%{opacity:.8;-webkit-transform:scale(1.15)rotate(-3deg);-moz-transform:scale(1.15)rotate(-3deg);-o-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);-webkit-filter:brightness(1.2);filter:brightness(1.2)}35%{opacity:1;-webkit-transform:scale(.9)rotate(3deg);-moz-transform:scale(.9)rotate(3deg);-o-transform:scale(.9)rotate(3deg);transform:scale(.9)rotate(3deg);-webkit-filter:brightness(.9);filter:brightness(.9)}55%{opacity:.85;-webkit-transform:scale(1.1)rotate(-2deg);-moz-transform:scale(1.1)rotate(-2deg);-o-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);-webkit-filter:brightness(1.1);filter:brightness(1.1)}75%{opacity:1;-webkit-transform:scale(.95)rotate(2deg);-moz-transform:scale(.95)rotate(2deg);-o-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);-webkit-filter:brightness(.95);filter:brightness(.95)}}@-webkit-keyframes flame-strong{0%,100%{opacity:1;-webkit-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:brightness(1)drop-shadow(0 0 4px currentColor);filter:brightness(1)drop-shadow(0 0 4px currentColor)}12%{opacity:.75;-webkit-transform:scale(1.2)rotate(-4deg);transform:scale(1.2)rotate(-4deg);-webkit-filter:brightness(1.3)drop-shadow(0 0 8px currentColor);filter:brightness(1.3)drop-shadow(0 0 8px currentColor)}28%{opacity:1;-webkit-transform:scale(.85)rotate(4deg);transform:scale(.85)rotate(4deg);-webkit-filter:brightness(.85)drop-shadow(0 0 2px currentColor);filter:brightness(.85)drop-shadow(0 0 2px currentColor)}45%{opacity:.8;-webkit-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);-webkit-filter:brightness(1.2)drop-shadow(0 0 6px currentColor);filter:brightness(1.2)drop-shadow(0 0 6px currentColor)}65%{opacity:1;-webkit-transform:scale(.9)rotate(3deg);transform:scale(.9)rotate(3deg);-webkit-filter:brightness(.9)drop-shadow(0 0 3px currentColor);filter:brightness(.9)drop-shadow(0 0 3px currentColor)}82%{opacity:.9;-webkit-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);-webkit-filter:brightness(1.1)drop-shadow(0 0 5px currentColor);filter:brightness(1.1)drop-shadow(0 0 5px currentColor)}}@-moz-keyframes flame-strong{0%,100%{opacity:1;-moz-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:brightness(1)drop-shadow(0 0 4px currentColor)}12%{opacity:.75;-moz-transform:scale(1.2)rotate(-4deg);transform:scale(1.2)rotate(-4deg);filter:brightness(1.3)drop-shadow(0 0 8px currentColor)}28%{opacity:1;-moz-transform:scale(.85)rotate(4deg);transform:scale(.85)rotate(4deg);filter:brightness(.85)drop-shadow(0 0 2px currentColor)}45%{opacity:.8;-moz-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);filter:brightness(1.2)drop-shadow(0 0 6px currentColor)}65%{opacity:1;-moz-transform:scale(.9)rotate(3deg);transform:scale(.9)rotate(3deg);filter:brightness(.9)drop-shadow(0 0 3px currentColor)}82%{opacity:.9;-moz-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);filter:brightness(1.1)drop-shadow(0 0 5px currentColor)}}@-o-keyframes flame-strong{0%,100%{opacity:1;-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:brightness(1)drop-shadow(0 0 4px currentColor)}12%{opacity:.75;-o-transform:scale(1.2)rotate(-4deg);transform:scale(1.2)rotate(-4deg);filter:brightness(1.3)drop-shadow(0 0 8px currentColor)}28%{opacity:1;-o-transform:scale(.85)rotate(4deg);transform:scale(.85)rotate(4deg);filter:brightness(.85)drop-shadow(0 0 2px currentColor)}45%{opacity:.8;-o-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);filter:brightness(1.2)drop-shadow(0 0 6px currentColor)}65%{opacity:1;-o-transform:scale(.9)rotate(3deg);transform:scale(.9)rotate(3deg);filter:brightness(.9)drop-shadow(0 0 3px currentColor)}82%{opacity:.9;-o-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);filter:brightness(1.1)drop-shadow(0 0 5px currentColor)}}@keyframes flame-strong{0%,100%{opacity:1;-webkit-transform:scale(1)rotate(0deg);-moz-transform:scale(1)rotate(0deg);-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:brightness(1)drop-shadow(0 0 4px currentColor);filter:brightness(1)drop-shadow(0 0 4px currentColor)}12%{opacity:.75;-webkit-transform:scale(1.2)rotate(-4deg);-moz-transform:scale(1.2)rotate(-4deg);-o-transform:scale(1.2)rotate(-4deg);transform:scale(1.2)rotate(-4deg);-webkit-filter:brightness(1.3)drop-shadow(0 0 8px currentColor);filter:brightness(1.3)drop-shadow(0 0 8px currentColor)}28%{opacity:1;-webkit-transform:scale(.85)rotate(4deg);-moz-transform:scale(.85)rotate(4deg);-o-transform:scale(.85)rotate(4deg);transform:scale(.85)rotate(4deg);-webkit-filter:brightness(.85)drop-shadow(0 0 2px currentColor);filter:brightness(.85)drop-shadow(0 0 2px currentColor)}45%{opacity:.8;-webkit-transform:scale(1.15)rotate(-3deg);-moz-transform:scale(1.15)rotate(-3deg);-o-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);-webkit-filter:brightness(1.2)drop-shadow(0 0 6px currentColor);filter:brightness(1.2)drop-shadow(0 0 6px currentColor)}65%{opacity:1;-webkit-transform:scale(.9)rotate(3deg);-moz-transform:scale(.9)rotate(3deg);-o-transform:scale(.9)rotate(3deg);transform:scale(.9)rotate(3deg);-webkit-filter:brightness(.9)drop-shadow(0 0 3px currentColor);filter:brightness(.9)drop-shadow(0 0 3px currentColor)}82%{opacity:.9;-webkit-transform:scale(1.1)rotate(-2deg);-moz-transform:scale(1.1)rotate(-2deg);-o-transform:scale(1.1)rotate(-2deg);transform:scale(1.1)rotate(-2deg);-webkit-filter:brightness(1.1)drop-shadow(0 0 5px currentColor);filter:brightness(1.1)drop-shadow(0 0 5px currentColor)}}@-webkit-keyframes flame-intense{0%,100%{opacity:1;-webkit-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:brightness(1)drop-shadow(0 0 6px rgba(255,255,255,.8));filter:brightness(1)drop-shadow(0 0 6px rgba(255,255,255,.8))}10%{opacity:.7;-webkit-transform:scale(1.25)rotate(-5deg);transform:scale(1.25)rotate(-5deg);-webkit-filter:brightness(1.4)drop-shadow(0 0 12px rgba(255,255,255,1));filter:brightness(1.4)drop-shadow(0 0 12px rgba(255,255,255,1))}22%{opacity:1;-webkit-transform:scale(.8)rotate(5deg);transform:scale(.8)rotate(5deg);-webkit-filter:brightness(.8)drop-shadow(0 0 4px rgba(255,255,255,.6));filter:brightness(.8)drop-shadow(0 0 4px rgba(255,255,255,.6))}38%{opacity:.75;-webkit-transform:scale(1.2)rotate(-4deg);transform:scale(1.2)rotate(-4deg);-webkit-filter:brightness(1.3)drop-shadow(0 0 10px rgba(255,255,255,.9));filter:brightness(1.3)drop-shadow(0 0 10px rgba(255,255,255,.9))}55%{opacity:1;-webkit-transform:scale(.85)rotate(4deg);transform:scale(.85)rotate(4deg);-webkit-filter:brightness(.85)drop-shadow(0 0 5px rgba(255,255,255,.7));filter:brightness(.85)drop-shadow(0 0 5px rgba(255,255,255,.7))}70%{opacity:.8;-webkit-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);-webkit-filter:brightness(1.2)drop-shadow(0 0 8px rgba(255,255,255,.85));filter:brightness(1.2)drop-shadow(0 0 8px rgba(255,255,255,.85))}85%{opacity:1;-webkit-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);-webkit-filter:brightness(.95)drop-shadow(0 0 6px rgba(255,255,255,.75));filter:brightness(.95)drop-shadow(0 0 6px rgba(255,255,255,.75))}}@-moz-keyframes flame-intense{0%,100%{opacity:1;-moz-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:brightness(1)drop-shadow(0 0 6px rgba(255,255,255,.8))}10%{opacity:.7;-moz-transform:scale(1.25)rotate(-5deg);transform:scale(1.25)rotate(-5deg);filter:brightness(1.4)drop-shadow(0 0 12px rgba(255,255,255,1))}22%{opacity:1;-moz-transform:scale(.8)rotate(5deg);transform:scale(.8)rotate(5deg);filter:brightness(.8)drop-shadow(0 0 4px rgba(255,255,255,.6))}38%{opacity:.75;-moz-transform:scale(1.2)rotate(-4deg);transform:scale(1.2)rotate(-4deg);filter:brightness(1.3)drop-shadow(0 0 10px rgba(255,255,255,.9))}55%{opacity:1;-moz-transform:scale(.85)rotate(4deg);transform:scale(.85)rotate(4deg);filter:brightness(.85)drop-shadow(0 0 5px rgba(255,255,255,.7))}70%{opacity:.8;-moz-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);filter:brightness(1.2)drop-shadow(0 0 8px rgba(255,255,255,.85))}85%{opacity:1;-moz-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);filter:brightness(.95)drop-shadow(0 0 6px rgba(255,255,255,.75))}}@-o-keyframes flame-intense{0%,100%{opacity:1;-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:brightness(1)drop-shadow(0 0 6px rgba(255,255,255,.8))}10%{opacity:.7;-o-transform:scale(1.25)rotate(-5deg);transform:scale(1.25)rotate(-5deg);filter:brightness(1.4)drop-shadow(0 0 12px rgba(255,255,255,1))}22%{opacity:1;-o-transform:scale(.8)rotate(5deg);transform:scale(.8)rotate(5deg);filter:brightness(.8)drop-shadow(0 0 4px rgba(255,255,255,.6))}38%{opacity:.75;-o-transform:scale(1.2)rotate(-4deg);transform:scale(1.2)rotate(-4deg);filter:brightness(1.3)drop-shadow(0 0 10px rgba(255,255,255,.9))}55%{opacity:1;-o-transform:scale(.85)rotate(4deg);transform:scale(.85)rotate(4deg);filter:brightness(.85)drop-shadow(0 0 5px rgba(255,255,255,.7))}70%{opacity:.8;-o-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);filter:brightness(1.2)drop-shadow(0 0 8px rgba(255,255,255,.85))}85%{opacity:1;-o-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);filter:brightness(.95)drop-shadow(0 0 6px rgba(255,255,255,.75))}}@keyframes flame-intense{0%,100%{opacity:1;-webkit-transform:scale(1)rotate(0deg);-moz-transform:scale(1)rotate(0deg);-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:brightness(1)drop-shadow(0 0 6px rgba(255,255,255,.8));filter:brightness(1)drop-shadow(0 0 6px rgba(255,255,255,.8))}10%{opacity:.7;-webkit-transform:scale(1.25)rotate(-5deg);-moz-transform:scale(1.25)rotate(-5deg);-o-transform:scale(1.25)rotate(-5deg);transform:scale(1.25)rotate(-5deg);-webkit-filter:brightness(1.4)drop-shadow(0 0 12px rgba(255,255,255,1));filter:brightness(1.4)drop-shadow(0 0 12px rgba(255,255,255,1))}22%{opacity:1;-webkit-transform:scale(.8)rotate(5deg);-moz-transform:scale(.8)rotate(5deg);-o-transform:scale(.8)rotate(5deg);transform:scale(.8)rotate(5deg);-webkit-filter:brightness(.8)drop-shadow(0 0 4px rgba(255,255,255,.6));filter:brightness(.8)drop-shadow(0 0 4px rgba(255,255,255,.6))}38%{opacity:.75;-webkit-transform:scale(1.2)rotate(-4deg);-moz-transform:scale(1.2)rotate(-4deg);-o-transform:scale(1.2)rotate(-4deg);transform:scale(1.2)rotate(-4deg);-webkit-filter:brightness(1.3)drop-shadow(0 0 10px rgba(255,255,255,.9));filter:brightness(1.3)drop-shadow(0 0 10px rgba(255,255,255,.9))}55%{opacity:1;-webkit-transform:scale(.85)rotate(4deg);-moz-transform:scale(.85)rotate(4deg);-o-transform:scale(.85)rotate(4deg);transform:scale(.85)rotate(4deg);-webkit-filter:brightness(.85)drop-shadow(0 0 5px rgba(255,255,255,.7));filter:brightness(.85)drop-shadow(0 0 5px rgba(255,255,255,.7))}70%{opacity:.8;-webkit-transform:scale(1.15)rotate(-3deg);-moz-transform:scale(1.15)rotate(-3deg);-o-transform:scale(1.15)rotate(-3deg);transform:scale(1.15)rotate(-3deg);-webkit-filter:brightness(1.2)drop-shadow(0 0 8px rgba(255,255,255,.85));filter:brightness(1.2)drop-shadow(0 0 8px rgba(255,255,255,.85))}85%{opacity:1;-webkit-transform:scale(.95)rotate(2deg);-moz-transform:scale(.95)rotate(2deg);-o-transform:scale(.95)rotate(2deg);transform:scale(.95)rotate(2deg);-webkit-filter:brightness(.95)drop-shadow(0 0 6px rgba(255,255,255,.75));filter:brightness(.95)drop-shadow(0 0 6px rgba(255,255,255,.75))}}.animate-flame-regular.jsx-3ec279523abed53d{-webkit-animation:flame-regular 1.5s ease-in-out infinite;-moz-animation:flame-regular 1.5s ease-in-out infinite;-o-animation:flame-regular 1.5s ease-in-out infinite;animation:flame-regular 1.5s ease-in-out infinite}.animate-flame-medium.jsx-3ec279523abed53d{-webkit-animation:flame-medium 1.3s ease-in-out infinite;-moz-animation:flame-medium 1.3s ease-in-out infinite;-o-animation:flame-medium 1.3s ease-in-out infinite;animation:flame-medium 1.3s ease-in-out infinite}.animate-flame-strong.jsx-3ec279523abed53d{-webkit-animation:flame-strong 1.1s ease-in-out infinite;-moz-animation:flame-strong 1.1s ease-in-out infinite;-o-animation:flame-strong 1.1s ease-in-out infinite;animation:flame-strong 1.1s ease-in-out infinite}.animate-flame-intense.jsx-3ec279523abed53d{-webkit-animation:flame-intense.9s ease-in-out infinite;-moz-animation:flame-intense.9s ease-in-out infinite;-o-animation:flame-intense.9s ease-in-out infinite;animation:flame-intense.9s ease-in-out infinite}"})]})},Q=()=>{let[e,t]=(0,r.useState)(!1),s=x(e=>e.username),l=x(e=>e.currentRank),n=x(e=>e.currentStreak),i=x(e=>e.lastWorkoutDate),d=(0,m.CT)(e=>e.activeTitle),c=d?g.iS.find(e=>e.id===d):null,o=c?(0,g.W9)(c.category):"",h=c?(0,g.FD)(c.category):"",u=new Date().toISOString().split("T")[0];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"border-b glass-border glass backdrop-blur-glass sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-3 sm:px-6 py-3 sm:py-4 flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0",children:[(0,a.jsx)("img",{src:"".concat("/Push_Up_League","/logo.png"),alt:"Push Up League Logo",className:"w-12 h-12 sm:w-[72px] sm:h-[72px] rounded-lg flex-shrink-0"}),(0,a.jsx)("div",{className:"font-black text-base sm:text-2xl lg:text-3xl text-hero bg-gradient-to-r from-white via-gray-300 to-gray-400 bg-clip-text text-transparent truncate uppercase",style:{letterSpacing:"0.05em",fontFamily:"system-ui, -apple-system, sans-serif",fontWeight:900},children:"PUSH-UP LEAGUE"}),(0,a.jsx)("div",{className:"hidden sm:block text-[10px] text-gray-500 uppercase tracking-widest font-bold px-2 py-0.5 bg-dark-border rounded flex-shrink-0",children:"BETA"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 lg:gap-6 flex-shrink-0",children:[(0,a.jsxs)("div",{className:"hidden md:block text-right",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,a.jsx)("div",{className:"text-sm font-bold",children:s}),c&&(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 glass-light border rounded text-xs ".concat(o," ").concat(h),children:[(0,a.jsx)(L.Z,{size:10,fill:"currentColor"}),(0,a.jsx)("span",{className:"font-bold",children:c.name})]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[(0,a.jsx)(J,{streak:n,isBroken:i!==u,size:12}),n," day streak"]})]}),(0,a.jsx)("div",{className:"hidden md:block h-10 w-px bg-dark-border"}),(0,a.jsx)(p,{rank:l,size:"sm"}),(0,a.jsx)("div",{className:"hidden sm:block h-10 w-px bg-dark-border"}),(0,a.jsx)("button",{onClick:()=>t(!0),className:"p-1.5 sm:p-2 hover:bg-accent/10 rounded-lg transition active:scale-95","aria-label":"Open menu",children:(0,a.jsx)(G.Z,{size:20,className:"sm:w-6 sm:h-6 text-accent"})})]})]})}),e&&(0,a.jsx)(H,{onClose:()=>t(!1)})]})};var $=s(6129),ee=s(6325),et=s(7721),es=s(65);let ea=e=>{let{onClose:t,pushups:s,xpEarned:r,coinsEarned:l,goalCompleted:n,streakDay:i}=e;(0,m.CT)(e=>e.currentRank);let d=(0,m.CT)(e=>e.getNextRankProgress)(),c=n?20:0,o=i>1?5:0,x=l-10-c-o;return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-dark/90 backdrop-blur-sm animate-fade-in",children:(0,a.jsxs)("div",{className:"max-w-md w-full glass glass-border rounded-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-accent/20 to-electric-blue/20 border-b border-accent/30 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-accent/20 rounded-lg",children:(0,a.jsx)(et.Z,{size:24,className:"text-accent"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-black text-hero text-accent",children:"Workout Logged!"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Great work, champion!"})]})]}),(0,a.jsx)("button",{onClick:t,className:"p-2 hover:bg-accent/10 rounded-lg transition",children:(0,a.jsx)(h.Z,{size:20})})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 glass-light rounded-lg border border-accent/30",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 uppercase tracking-wider mb-2",children:"Push-Ups Completed"}),(0,a.jsx)("div",{className:"text-5xl font-black text-hero text-accent",children:s})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-electric-blue/30 p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)(b.Z,{size:16,className:"text-electric-blue"}),(0,a.jsx)("span",{className:"text-xs text-gray-400 uppercase",children:"XP Earned"})]}),(0,a.jsxs)("div",{className:"text-2xl font-black text-electric-blue",children:["+",r]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[d.percent,"% to next rank"]})]}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-warning/30 p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)(E.Z,{size:16,className:"text-warning"}),(0,a.jsx)("span",{className:"text-xs text-gray-400 uppercase",children:"Coins Earned"})]}),(0,a.jsxs)("div",{className:"text-2xl font-black text-warning",children:["+",l]})]})]}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-dark-border p-4 space-y-2",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,a.jsx)(E.Z,{size:14,className:"text-warning"}),"Coin Breakdown"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Base Reward"}),(0,a.jsxs)("span",{className:"font-bold text-white",children:["+",10]})]}),x>0&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Sets & Variation Bonus"}),(0,a.jsxs)("span",{className:"font-bold text-success",children:["+",Math.floor(x)]})]}),o>0&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.Z,{size:12,className:"text-accent"}),(0,a.jsx)("span",{className:"text-gray-400",children:"Streak Bonus"})]}),(0,a.jsxs)("span",{className:"font-bold text-accent",children:["+",o]})]}),c>0&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(es.Z,{size:12,className:"text-success"}),(0,a.jsx)("span",{className:"text-gray-400",children:"Goal Completed!"})]}),(0,a.jsxs)("span",{className:"font-bold text-success",children:["+",c]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t border-dark-border flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-bold text-white",children:"Total"}),(0,a.jsx)("span",{className:"font-black text-lg text-warning",children:l})]})]})]}),i>0&&(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-accent/30 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{size:20,className:"text-accent"}),(0,a.jsx)("span",{className:"font-bold",children:"Current Streak"})]}),(0,a.jsxs)("span",{className:"text-2xl font-black text-accent",children:[i," ",1===i?"day":"days"]})]}),i>=7&&(0,a.jsx)("div",{className:"mt-2 text-xs text-success",children:"\uD83D\uDD25 Streak multiplier active! Keep it going!"})]}),(0,a.jsx)("button",{onClick:t,className:"w-full py-3 bg-gradient-to-r from-accent to-electric-blue text-dark font-bold rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider font-display",children:"Continue"})]})]})})},er=()=>{let[e,t]=(0,r.useState)(10),[s,l]=(0,r.useState)(1),[n,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[o,g]=(0,r.useState)(null),p=x(e=>e.logWorkout),h=x(e=>e.getTodayWorkout),u=(0,m.CT)(e=>e.currentStreak),b=(0,m.CT)(e=>e.dailyGoal),f=h();return f&&!d?(0,a.jsx)("div",{className:"p-6 rounded-lg glass glass-border",children:(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 uppercase tracking-wider font-display",children:"Today's Workout"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-accent",children:f.pushups}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-3 text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["XP: ",(0,a.jsxs)("span",{className:"text-electric-blue font-bold",children:["+",f.xpEarned]})]}),(0,a.jsxs)("span",{className:"text-gray-400",children:["Coins: ",(0,a.jsxs)("span",{className:"text-warning font-bold",children:["+",f.coinsEarned||0]})]})]})]})}):(0,a.jsxs)(a.Fragment,{children:[d&&o&&(0,a.jsx)(ea,{onClose:()=>c(!1),...o}),(0,a.jsxs)("div",{className:"space-y-6 p-6 rounded-lg glass-border glass",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400 uppercase tracking-wider font-display",children:"Push-ups"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,a.jsx)("button",{onClick:()=>t(Math.max(1,e-5)),className:"p-2 glass-light rounded hover:bg-accent/20 transition",children:(0,a.jsx)($.Z,{size:20})}),(0,a.jsx)("input",{type:"number",value:e,onChange:e=>t(parseInt(e.target.value)||1),className:"flex-1 glass-light border border-dark-border rounded px-4 py-2 text-center text-lg font-bold text-white outline-none focus:border-accent"}),(0,a.jsx)("button",{onClick:()=>t(e+5),className:"p-2 glass-light rounded hover:bg-accent/20 transition",children:(0,a.jsx)(ee.Z,{size:20})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400 uppercase tracking-wider font-display",children:"Sets"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,a.jsx)("button",{onClick:()=>l(Math.max(1,s-1)),className:"p-2 glass-light rounded hover:bg-accent/20 transition",children:(0,a.jsx)($.Z,{size:20})}),(0,a.jsx)("input",{type:"number",value:s,onChange:e=>l(parseInt(e.target.value)||1),className:"flex-1 glass-light border border-dark-border rounded px-4 py-2 text-center text-lg font-bold text-white outline-none focus:border-accent"}),(0,a.jsx)("button",{onClick:()=>l(s+1),className:"p-2 glass-light rounded hover:bg-accent/20 transition",children:(0,a.jsx)(ee.Z,{size:20})})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"+5% XP per set"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-3 p-3 glass-light rounded cursor-pointer hover:bg-accent/10 transition",children:[(0,a.jsx)("input",{type:"checkbox",checked:n,onChange:e=>i(e.target.checked),className:"w-4 h-4 rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Daily Challenge Completed (+25% XP)"})]}),(0,a.jsx)("button",{onClick:()=>{let a=Math.floor((10+(s>1?2*s:0))*(u>=30?1.15:u>=14?1.1:u>=7?1.05:1))+(e>=b?20:0)+(u>1?5:0),r=Math.min(Math.floor(e*(1+(s>1?.05*s:0))*(n?1.25:1)),500);p(e,s>1?s:void 0,n),g({pushups:e,xpEarned:r,coinsEarned:a,goalCompleted:e>=b,streakDay:u}),t(10),l(1),i(!1),c(!0)},className:"w-full py-3 bg-gradient-to-r from-accent to-accent-light text-dark font-bold rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider font-display",children:"Log Workout"}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-dark-border p-3 text-xs",children:[(0,a.jsx)("div",{className:"text-gray-400 uppercase tracking-wider mb-2",children:"Estimated Rewards"}),(0,a.jsxs)("div",{className:"flex items-center justify-around",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-electric-blue font-bold",children:["~",Math.min(Math.floor(e*(1+(s>1?.05*s:0))),500)," XP"]}),(0,a.jsx)("div",{className:"text-gray-500 text-xs",children:"Experience"})]}),(0,a.jsx)("div",{className:"w-px h-8 bg-dark-border"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-warning font-bold flex items-center gap-1 justify-center",children:[(0,a.jsx)(E.Z,{size:12}),"~",10+(s>1?2*s:0)+(e>=b?20:0)]}),(0,a.jsx)("div",{className:"text-gray-500 text-xs",children:"Coins + Bonuses"})]})]})]})]})]})};var el=s(7166),en=s(9150);let ei=[{id:"time_10min",name:"Speedster",description:"Complete your workout in under 10 minutes",type:"time_limit",requirement:{maxMinutes:10},coinReward:15,xpReward:50,icon:"⚡",validateCompletion:e=>e.sessionDuration<=10},{id:"time_5min",name:"Lightning Fast",description:"Complete your workout in under 5 minutes",type:"time_limit",requirement:{maxMinutes:5},coinReward:25,xpReward:100,icon:"⚡⚡",validateCompletion:e=>e.sessionDuration<=5},{id:"rest_90sec",name:"Quick Recovery",description:"No rest period longer than 90 seconds",type:"max_rest",requirement:{maxRestSeconds:90},coinReward:10,xpReward:40,icon:"⏱️",validateCompletion:e=>{if(e.sets.length<=1)return!0;for(let t of e.sets)if(t.restAfter&&t.restAfter>90)return!1;return!0}},{id:"rest_60sec",name:"Minimal Rest",description:"No rest period longer than 60 seconds",type:"max_rest",requirement:{maxRestSeconds:60},coinReward:15,xpReward:60,icon:"⏱️⏱️",validateCompletion:e=>{if(e.sets.length<=1)return!0;for(let t of e.sets)if(t.restAfter&&t.restAfter>60)return!1;return!0}},{id:"no_rest",name:"Iron Will",description:"No rest between sets",type:"max_rest",requirement:{maxRestSeconds:5},coinReward:30,xpReward:120,icon:"\uD83D\uDD25",validateCompletion:e=>{if(e.sets.length<=1)return!0;for(let t of e.sets)if(t.restAfter&&t.restAfter>5)return!1;return!0}},{id:"ladder_basic",name:"Ladder Climber",description:"Complete sets in ascending order: 5-10-15-20",type:"ladder",requirement:{pattern:[5,10,15,20]},coinReward:20,xpReward:80,icon:"\uD83D\uDCF6",validateCompletion:e=>{let t=[5,10,15,20];if(e.sets.length<t.length)return!1;for(let s=0;s<t.length;s++)if(e.sets[s].reps<t[s])return!1;return!0}},{id:"pyramid",name:"Pyramid Builder",description:"Complete pyramid: 5-10-15-20-15-10-5",type:"pyramid",requirement:{pattern:[5,10,15,20,15,10,5]},coinReward:35,xpReward:150,icon:"\uD83D\uDD3A",validateCompletion:e=>{let t=[5,10,15,20,15,10,5];if(e.sets.length<t.length)return!1;for(let s=0;s<t.length;s++)if(e.sets[s].reps<t[s])return!1;return!0}},{id:"endurance_50",name:"Half Century",description:"Complete 50 push-ups in a single set",type:"endurance",requirement:{minReps:50},coinReward:25,xpReward:100,icon:"\uD83D\uDCAA",validateCompletion:e=>e.sets.some(e=>e.reps>=50)},{id:"endurance_100",name:"Century Club",description:"Complete 100 push-ups in a single set",type:"endurance",requirement:{minReps:100},coinReward:50,xpReward:200,icon:"\uD83D\uDCAF",validateCompletion:e=>e.sets.some(e=>e.reps>=100)},{id:"emom_10min",name:"EMOM Master",description:"Complete 10 sets, one every minute for 10 minutes",type:"emom",requirement:{minutes:10,sets:10},coinReward:30,xpReward:120,icon:"⏰",validateCompletion:e=>{if(e.sets.length<10||e.sessionDuration>11)return!1;for(let t=1;t<10;t++){if(!e.sets[t].timestamp||!e.sets[t-1].timestamp)return!1;let s=(e.sets[t].timestamp-e.sets[t-1].timestamp)/1e3;if(s<45||s>75)return!1}return!0}},{id:"tabata_8rounds",name:"Tabata Warrior",description:"8 rounds of 20 seconds work, 10 seconds rest",type:"tabata",requirement:{rounds:8},coinReward:25,xpReward:100,icon:"\uD83C\uDFAF",validateCompletion:e=>{if(e.sets.length<8||e.sessionDuration<3.5||e.sessionDuration>5)return!1;for(let t=0;t<7;t++)if(!e.sets[t].restAfter||e.sets[t].restAfter<8||e.sets[t].restAfter>15)return!1;return!0}}],ed=(e,t)=>ei.filter(s=>{if(t.includes(s.id))return!1;switch(s.type){case"endurance":return e>=s.requirement.minReps;case"ladder":case"pyramid":return s.requirement.pattern.length,e>=s.requirement.pattern.reduce((e,t)=>e+t,0);default:return!0}}),ec=(e,t)=>{let s=ei.find(t=>t.id===e);if(!s)return{completed:!1};let a=s.validateCompletion(t);return{completed:a,challenge:a?s:void 0}};var eo=s(8470);let ex=e=>{let{totalPushups:t,completedChallengeIds:s,onSelectChallenge:l,selectedChallenge:n}=e,[i,d]=(0,r.useState)(!1),c=ed(t,s),o=e=>{l(e),d(!1)};return n&&!i?(0,a.jsxs)("div",{className:"p-4 glass border-2 border-accent rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:n.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-display font-bold text-accent",children:n.name}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:n.description})]})]}),(0,a.jsx)("button",{onClick:()=>{l(null)},className:"p-1 glass-light rounded hover:bg-red-500/20 text-red-400",children:(0,a.jsx)(h.Z,{size:16})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(et.Z,{size:14,className:"text-electric-blue"}),(0,a.jsxs)("span",{className:"text-electric-blue font-bold",children:["+",n.xpReward," XP"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(et.Z,{size:14,className:"text-warning"}),(0,a.jsxs)("span",{className:"text-warning font-bold",children:["+",n.coinReward," Coins"]})]})]}),(0,a.jsx)("div",{className:"mt-3 p-2 glass-light rounded text-xs text-accent",children:"\uD83D\uDCAA Challenge Active! Complete your workout to earn bonus rewards."})]}):(0,a.jsx)("div",{children:i?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"font-display font-bold text-white",children:"Select Session Challenge"}),(0,a.jsx)("button",{onClick:()=>d(!1),className:"text-xs text-gray-400 hover:text-white",children:"Cancel"})]}),0===c.length?(0,a.jsxs)("div",{className:"p-6 glass-light rounded-lg text-center text-gray-400 text-sm",children:["No challenges available for this workout size.",(0,a.jsx)("div",{className:"text-xs mt-2",children:"Try adding more sets or reps!"})]}):(0,a.jsx)("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:c.map(e=>{let t={time_limit:(0,a.jsx)(eo.Z,{size:16,className:"text-electric-blue"}),max_rest:(0,a.jsx)(b.Z,{size:16,className:"text-warning"}),ladder:(0,a.jsx)(es.Z,{size:16,className:"text-purple-400"}),pyramid:(0,a.jsx)(es.Z,{size:16,className:"text-purple-400"}),emom:(0,a.jsx)(eo.Z,{size:16,className:"text-electric-blue"}),tabata:(0,a.jsx)(b.Z,{size:16,className:"text-warning"}),endurance:(0,a.jsx)(et.Z,{size:16,className:"text-accent"})};return(0,a.jsxs)("button",{onClick:()=>o(e),className:"w-full p-3 glass-light rounded-lg border ".concat({time_limit:"border-electric-blue/30",max_rest:"border-warning/30",ladder:"border-purple-400/30",pyramid:"border-purple-400/30",emom:"border-electric-blue/30",tabata:"border-warning/30",endurance:"border-accent/30"}[e.type]," hover:bg-accent/10 transition text-left"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-bold text-sm text-white",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.description})]})]}),t[e.type]]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(et.Z,{size:12,className:"text-electric-blue"}),(0,a.jsxs)("span",{className:"text-electric-blue font-bold",children:["+",e.xpReward]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(et.Z,{size:12,className:"text-warning"}),(0,a.jsxs)("span",{className:"text-warning font-bold",children:["+",e.coinReward]})]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:e.type.replace("_"," ")})]})]},e.id)})})]}):(0,a.jsxs)("button",{onClick:()=>d(!0),className:"w-full p-3 glass-light rounded-lg border border-dashed border-purple-400/50 hover:border-purple-400 hover:bg-purple-400/10 transition text-purple-400 font-bold flex items-center justify-center gap-2",children:[(0,a.jsx)(es.Z,{size:18}),"Add Session Challenge"]})})},em=()=>{let[e,t]=(0,r.useState)([{reps:10,type:"standard"}]),[s,l]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null),[o,x]=(0,r.useState)(null),[g,p]=(0,r.useState)(null),[u,b]=(0,r.useState)(null),[f,y]=(0,r.useState)([]),[j,v]=(0,r.useState)(""),N=(0,m.CT)(e=>e.logWorkout),w=(0,m.CT)(e=>e.getTodayWorkout),k=(0,m.CT)(e=>e.currentStreak),S=(0,m.CT)(e=>e.dailyGoal),C=w(),I=s=>{e.length>1&&t(e.filter((e,t)=>t!==s))},R=(s,a)=>{let r=[...e];r[s].reps=Math.max(1,a),t(r)},D=(s,a)=>{let r=[...e];r[s].type=a,t(r),x(null),v("")},z=()=>{if(!j.trim())return Object.values(O.PUSHUP_TYPES);let e=j.toLowerCase();return Object.values(O.PUSHUP_TYPES).filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.difficulty.toLowerCase().includes(e))};(0,r.useEffect)(()=>{null===o&&v("")},[o]);let P=()=>e.reduce((e,t)=>e+t.reps,0),T=()=>{let t=P(),a=0,r=0;for(let t of e){let e=O.PUSHUP_TYPES[t.type];a+=e.xpMultiplier,r+=e.coinMultiplier}let l=a/e.length,n=r/e.length,i=e.length>1?.05*e.length:0,d=s?.25:0,c=Math.floor((10+(e.length>1?2*e.length:0))*(k>=30?1.15:k>=14?1.1:k>=7?1.05:1)*n),o=t>=S;return o&&(c+=20),k>1&&(c+=5),{estimatedXP:Math.min(Math.floor(t*l*(1+i)*(1+d)*.25),500),estimatedCoins:Math.max(1,Math.floor(.25*c)),goalCompleted:o}};if(C&&!n)return(0,a.jsx)("div",{className:"p-4 sm:p-6 rounded-lg glass glass-border",children:(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-gray-400 uppercase tracking-wider font-display",children:"Today's Workout"}),(0,a.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-accent",children:C.pushups}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 sm:gap-4 mt-2 sm:mt-3 text-xs sm:text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["XP: ",(0,a.jsxs)("span",{className:"text-electric-blue font-bold",children:["+",C.xpEarned]})]}),(0,a.jsxs)("span",{className:"text-gray-400",children:["Coins: ",(0,a.jsxs)("span",{className:"text-warning font-bold",children:["+",C.coinsEarned||0]})]})]})]})});let{estimatedXP:L,estimatedCoins:F}=T(),M=P();return(0,a.jsxs)(a.Fragment,{children:[n&&d&&(0,a.jsx)(ea,{onClose:()=>i(!1),...d}),(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 rounded-lg glass-border glass overflow-visible",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,a.jsx)("label",{className:"text-xs sm:text-sm text-gray-400 uppercase tracking-wider font-display",children:"Workout Sets"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Total: ",(0,a.jsx)("span",{className:"text-accent font-bold",children:M})," push-ups"]})]}),(0,a.jsx)("div",{className:"space-y-3 overflow-visible",children:e.map((t,s)=>{let r=O.PUSHUP_TYPES[t.type],l=o===s,n=z();return(0,a.jsx)("div",{className:"p-3 sm:p-4 glass-light rounded-lg border border-dark-border overflow-visible relative ".concat(l?"z-30":"z-0"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-7 h-7 sm:w-8 sm:h-8 rounded-full glass flex items-center justify-center font-bold text-accent text-sm sm:text-base",children:s+1}),(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,a.jsx)("button",{onClick:()=>R(s,t.reps-5),className:"p-1 sm:p-1.5 glass-light rounded hover:bg-accent/20 transition active:scale-95",children:(0,a.jsx)($.Z,{size:14,className:"sm:w-4 sm:h-4"})}),(0,a.jsx)("input",{type:"number",value:t.reps,onChange:e=>R(s,parseInt(e.target.value)||1),className:"w-12 sm:w-16 glass-light border border-dark-border rounded px-1 sm:px-2 py-1 text-center font-bold text-white outline-none focus:border-accent text-sm sm:text-base"}),(0,a.jsx)("button",{onClick:()=>R(s,t.reps+5),className:"p-1 sm:p-1.5 glass-light rounded hover:bg-accent/20 transition active:scale-95",children:(0,a.jsx)(ee.Z,{size:14,className:"sm:w-4 sm:h-4"})})]}),(0,a.jsxs)("div",{className:"flex-1 relative min-w-0 overflow-visible",children:[(0,a.jsxs)("button",{onClick:()=>{let e=o===s?null:s;x(e),null!==e&&v("")},className:"w-full p-2 glass-light rounded border ".concat({beginner:"text-green-400 border-green-400/50",intermediate:"text-blue-400 border-blue-400/50",advanced:"text-purple-400 border-purple-400/50",elite:"text-warning border-warning/50"}[r.difficulty]," flex items-center justify-between hover:bg-accent/10 transition text-xs sm:text-sm active:scale-98"),children:[(0,a.jsx)("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:(0,a.jsx)("span",{className:"font-bold truncate",children:r.name})}),(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[(0,a.jsxs)("span",{className:"text-xs opacity-75",children:[r.xpMultiplier,"x"]}),(0,a.jsx)(el.Z,{size:14,className:"sm:w-4 sm:h-4 transition ".concat(o===s?"rotate-180":"")})]})]}),l&&(0,a.jsxs)("div",{className:"absolute z-[9999] mt-2 bg-dark-card/95 backdrop-blur-md border border-accent rounded-lg shadow-xl max-h-80 overflow-hidden left-0 right-0 w-auto max-w-[calc(100vw-2rem)] sm:max-w-none sm:w-[420px] sm:left-auto sm:right-0",children:[(0,a.jsxs)("div",{className:"sticky top-0 p-3 bg-dark-card/95 backdrop-blur-md border-b border-dark-border",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(en.Z,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search push-up types...",value:j,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-3 py-2 glass-light border border-dark-border rounded text-sm text-white placeholder-gray-500 outline-none focus:border-accent",autoFocus:!0})]}),j&&(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-2",children:[n.length," results"]})]}),(0,a.jsx)("div",{className:"max-h-64 overflow-y-auto",children:n.length>0?n.map(e=>(0,a.jsxs)("button",{onClick:()=>D(s,e.id),className:"w-full p-3 text-left hover:bg-accent/20 transition border-b border-dark-border last:border-b-0 ".concat(t.type===e.id?"bg-accent/10":""),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-sm",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-400 capitalize",children:e.difficulty})]})}),(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsxs)("div",{className:"text-electric-blue font-bold",children:[e.xpMultiplier,"x XP"]}),(0,a.jsxs)("div",{className:"text-warning font-bold",children:[e.coinMultiplier,"x Coins"]})]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.description})]},e.id)):(0,a.jsxs)("div",{className:"p-6 text-center text-gray-400 text-sm",children:['No push-up types found matching "',j,'"']})})]})]}),e.length>1&&(0,a.jsx)("button",{onClick:()=>I(s),className:"p-1 sm:p-1.5 glass-light rounded hover:bg-red-500/20 transition text-red-400 active:scale-95 flex-shrink-0",children:(0,a.jsx)(h.Z,{size:14,className:"sm:w-4 sm:h-4"})})]})},s)})}),(0,a.jsxs)("button",{onClick:()=>{t([...e,{reps:10,type:"standard"}])},className:"w-full p-2.5 sm:p-3 glass-light rounded-lg border border-dashed border-accent/50 hover:border-accent hover:bg-accent/10 transition text-accent font-bold flex items-center justify-center gap-2 text-sm sm:text-base active:scale-98",children:[(0,a.jsx)(ee.Z,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"Add Another Set"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 glass-light rounded cursor-pointer hover:bg-accent/10 transition active:scale-98",children:[(0,a.jsx)("input",{type:"checkbox",checked:s,onChange:e=>l(e.target.checked),className:"w-4 h-4 rounded flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Daily Challenge Completed (+25% XP)"})]}),(0,a.jsx)(ex,{totalPushups:M,completedChallengeIds:f,onSelectChallenge:e=>{p(e),e&&!u&&b(Date.now())},selectedChallenge:g}),(0,a.jsxs)("div",{className:"glass-light rounded-lg border border-dark-border p-3 sm:p-4",children:[(0,a.jsx)("div",{className:"text-gray-400 uppercase tracking-wider mb-2 sm:mb-3 text-xs font-bold",children:"Estimated Rewards"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-2 sm:p-3 glass-light rounded",children:[(0,a.jsx)(et.Z,{size:18,className:"sm:w-5 sm:h-5 mx-auto text-electric-blue mb-1 sm:mb-2"}),(0,a.jsxs)("div",{className:"text-electric-blue font-bold text-base sm:text-lg",children:["~",L," XP"]}),(0,a.jsx)("div",{className:"text-gray-500 text-xs",children:"Experience"})]}),(0,a.jsxs)("div",{className:"text-center p-2 sm:p-3 glass-light rounded",children:[(0,a.jsx)(E.Z,{size:18,className:"sm:w-5 sm:h-5 mx-auto text-warning mb-1 sm:mb-2"}),(0,a.jsxs)("div",{className:"text-warning font-bold text-base sm:text-lg",children:["~",F]}),(0,a.jsx)("div",{className:"text-gray-500 text-xs",children:"Coins"})]})]}),(0,a.jsxs)("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-dark-border text-xs space-y-1 text-gray-400",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Sets Bonus:"}),(0,a.jsxs)("span",{className:"text-white font-bold",children:["+",e.length>1?5*e.length:0,"% XP"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Streak Multiplier:"}),(0,a.jsx)("span",{className:"text-accent font-bold",children:k>=30?"1.15x":k>=14?"1.1x":k>=7?"1.05x":"1.0x"})]}),s&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Challenge Bonus:"}),(0,a.jsx)("span",{className:"text-accent font-bold",children:"+25% XP"})]})]})]}),(0,a.jsx)("button",{onClick:()=>{let a=P(),{estimatedXP:r,estimatedCoins:n,goalCompleted:d}=T(),o=!1,x={xp:0,coins:0};if(g&&u){let t=Date.now(),s={totalPushups:a,sets:e.map(e=>({reps:e.reps,type:e.type,restAfter:e.restAfter})),sessionDuration:(t-u)/1e3/60,startTime:u,endTime:t},l=ec(g.id,s);(o=l.completed)&&l.challenge&&(r+=(x={xp:l.challenge.xpReward,coins:l.challenge.coinReward}).xp,n+=x.coins,y([...f,g.id]))}N(a,e,s,u?(Date.now()-u)/1e3/60:void 0),c({pushups:a,xpEarned:r,coinsEarned:n,goalCompleted:d,streakDay:k,sessionChallengeCompleted:o,sessionChallengeName:null==g?void 0:g.name,sessionChallengeReward:x}),t([{reps:10,type:"standard"}]),l(!1),p(null),b(null),i(!0)},className:"w-full py-2.5 sm:py-3 bg-gradient-to-r from-accent to-accent-light text-dark font-bold rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider font-display text-sm sm:text-base active:scale-98",children:"Log Workout"})]})]})};var eg=s(7006),ep=s(8685),eh=s(7376),eu=s(6410),eb=s(1456),ef=s(3869);let ey=e=>{let{onSwitchToLogin:t}=e,[s,l]=(0,r.useState)(1),[n,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[o,x]=(0,r.useState)(""),[g,p]=(0,r.useState)(""),[h,f]=(0,r.useState)("beginner"),[y,j]=(0,r.useState)(10),[v,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(""),[S,I]=(0,r.useState)(!1),R=(0,m.CT)(e=>e.register),D=e=>{f(e),j(eh.jb[e].maxPushupsRange.min),"world-class"===e?N(!0):N(!1)},z=e=>{j(e),e>200?N(!0):N(!1)},P=async()=>{if(k(""),I(!0),d!==o){k("Passwords do not match"),I(!1);return}if(d.length<6){k("Password must be at least 6 characters"),I(!1);return}try{let e=await (0,eu.a$)(n,d);if(!e.success||!e.user){k(e.error||"Registration failed"),I(!1);return}if(!(await (0,eu.xv)(e.user.uid,{userId:e.user.uid,username:g,email:n,proficiency:h,maxPushupsInOneSet:y,isWorldRecordCandidate:y>200||"world-class"===h,totalXp:0,coins:0,currentRank:1,currentStreak:0,longestStreak:0,lastWorkoutDate:null,personalBest:0,dailyGoal:50,streakFreezes:1})).success){k("Failed to create profile"),I(!1);return}R(n,g,h,y),I(!1)}catch(e){k(e.message||"An error occurred"),I(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-dark p-6",children:(0,a.jsxs)("div",{className:"max-w-2xl w-full glass glass-border rounded-2xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"font-display text-4xl font-bold text-accent mb-2",children:"Welcome to Push-Up League"}),(0,a.jsx)("div",{className:"text-gray-400",children:"Let's set up your account"})]}),(0,a.jsx)("div",{className:"flex justify-center gap-2 mb-8",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-2 w-16 rounded-full transition ".concat(e<=s?"bg-accent":"bg-dark-border")},e))}),w&&(0,a.jsxs)("div",{className:"mb-6 p-4 glass-light border border-red-500 rounded-lg",children:[(0,a.jsx)("div",{className:"text-red-400 mb-2",children:w}),w.includes("already registered")&&t&&(0,a.jsx)("button",{onClick:t,className:"text-sm text-accent hover:text-accent-light underline transition",children:"Switch to Login →"})]}),1===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-display text-gray-400 mb-2",children:[(0,a.jsx)(eb.Z,{size:16,className:"inline mr-2"}),"Email Address"]}),(0,a.jsx)("input",{type:"email",value:n,onChange:e=>i(e.target.value),className:"w-full glass-light border border-dark-border rounded-lg px-4 py-3 text-white outline-none focus:border-accent transition",placeholder:"your@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-display text-gray-400 mb-2",children:[(0,a.jsx)(C.Z,{size:16,className:"inline mr-2"}),"Password"]}),(0,a.jsx)("input",{type:"password",value:d,onChange:e=>c(e.target.value),className:"w-full glass-light border border-dark-border rounded-lg px-4 py-3 text-white outline-none focus:border-accent transition",placeholder:"At least 6 characters"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-display text-gray-400 mb-2",children:[(0,a.jsx)(C.Z,{size:16,className:"inline mr-2"}),"Confirm Password"]}),(0,a.jsx)("input",{type:"password",value:o,onChange:e=>x(e.target.value),className:"w-full glass-light border border-dark-border rounded-lg px-4 py-3 text-white outline-none focus:border-accent transition",placeholder:"Re-enter your password"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-display text-gray-400 mb-2",children:[(0,a.jsx)(u.Z,{size:16,className:"inline mr-2"}),"Username"]}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>p(e.target.value),className:"w-full glass-light border border-dark-border rounded-lg px-4 py-3 text-white outline-none focus:border-accent transition",placeholder:"Choose your warrior name"})]}),(0,a.jsx)("button",{onClick:()=>l(2),disabled:!n||!d||!o||!g,className:"w-full py-3 bg-gradient-to-r from-accent to-accent-light text-dark font-bold rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider font-display disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"})]}),2===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-display text-gray-400 mb-4",children:[(0,a.jsx)(b.Z,{size:16,className:"inline mr-2"}),"Select Your Current Level"]}),(0,a.jsx)("div",{className:"space-y-3",children:Object.entries(eh.jb).map(e=>{let[t,s]=e;return(0,a.jsxs)("button",{onClick:()=>D(s.level),className:"w-full p-4 rounded-lg text-left transition ".concat(h===s.level?"glass-border bg-accent/10 border-accent":"glass-light border-dark-border hover:border-accent/50"),children:[(0,a.jsx)("div",{className:"font-bold text-lg",children:s.label}),(0,a.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:s.description})]},t)})})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>l(1),className:"flex-1 py-3 glass-light border border-dark-border text-white font-bold rounded-lg hover:border-accent/50 transition uppercase tracking-wider font-display",children:"Back"}),(0,a.jsx)("button",{onClick:()=>l(3),className:"flex-1 py-3 bg-gradient-to-r from-accent to-accent-light text-dark font-bold rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider font-display",children:"Continue"})]})]}),3===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-display text-gray-400 mb-4",children:"Maximum Push-ups in One Set"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("input",{type:"range",min:eh.jb[h].maxPushupsRange.min,max:Math.min(eh.jb[h].maxPushupsRange.max,300),value:y,onChange:e=>z(parseInt(e.target.value)),className:"flex-1"}),(0,a.jsx)("input",{type:"number",value:y,onChange:e=>z(parseInt(e.target.value)||0),className:"w-24 glass-light border border-dark-border rounded-lg px-4 py-2 text-center text-xl font-bold text-white outline-none focus:border-accent"})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mt-2",children:"Your best effort in a single continuous set"})]}),v&&(0,a.jsx)("div",{className:"glass-light border border-warning rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(ef.Z,{className:"text-warning flex-shrink-0 mt-0.5",size:24}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"font-bold text-warning",children:"World Record Territory"}),(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:["You've indicated world-class performance levels. You will be placed in the",(0,a.jsx)("span",{className:"font-bold text-accent",children:" World Record Leaders "}),"leaderboard with exponentially challenging goals."]}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"Note: Exceptional performance data may be submitted to Guinness World Records organization for verification."})]})]})}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 space-y-2",children:[(0,a.jsx)("div",{className:"text-sm font-display text-gray-400 uppercase",children:"Your Profile"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Email:"})," ",(0,a.jsx)("span",{className:"text-white",children:n})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Username:"})," ",(0,a.jsx)("span",{className:"text-white",children:g})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Level:"})," ",(0,a.jsx)("span",{className:"text-accent",children:eh.jb[h].label})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Max Push-ups:"})," ",(0,a.jsx)("span",{className:"text-accent font-bold",children:y})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>l(2),disabled:S,className:"flex-1 py-3 glass-light border border-dark-border text-white font-bold rounded-lg hover:border-accent/50 transition uppercase tracking-wider font-display disabled:opacity-50",children:"Back"}),(0,a.jsx)("button",{onClick:P,disabled:S,className:"flex-1 py-3 bg-gradient-to-r from-accent to-accent-light text-dark font-bold rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider font-display disabled:opacity-50",children:S?"Creating Account...":"Start Training"})]})]})]})})};var ej=s(5043);let ev=e=>{let{onSwitchToRegister:t}=e,[s,l]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[o,x]=(0,r.useState)(!1),g=(0,m.CT)(e=>e.login),p=async e=>{e.preventDefault(),c(""),x(!0);try{let e=await (0,eu.pH)(s,n);if(!e.success){c(e.error||"Login failed"),x(!1);return}await g(s,n),x(!1)}catch(e){c(e.message||"An error occurred"),x(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-dark p-6",children:(0,a.jsxs)("div",{className:"max-w-md w-full glass glass-border rounded-2xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"font-display text-4xl font-bold text-accent mb-2",children:"Push-Up League"}),(0,a.jsx)("div",{className:"text-gray-400",children:"Welcome back, warrior"})]}),d&&(0,a.jsx)("div",{className:"mb-6 p-4 glass-light border border-red-500 rounded-lg text-red-400 text-sm",children:d}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-display text-gray-400 mb-2",children:[(0,a.jsx)(eb.Z,{size:16,className:"inline mr-2"}),"Email Address"]}),(0,a.jsx)("input",{type:"email",value:s,onChange:e=>l(e.target.value),className:"w-full glass-light border border-dark-border rounded-lg px-4 py-3 text-white outline-none focus:border-accent transition",placeholder:"your@email.com",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-display text-gray-400 mb-2",children:[(0,a.jsx)(C.Z,{size:16,className:"inline mr-2"}),"Password"]}),(0,a.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value),className:"w-full glass-light border border-dark-border rounded-lg px-4 py-3 text-white outline-none focus:border-accent transition",placeholder:"Enter your password",required:!0})]}),(0,a.jsxs)("button",{type:"submit",disabled:o,className:"w-full py-3 bg-gradient-to-r from-accent to-accent-light text-dark font-bold rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider font-display disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,a.jsx)(ej.Z,{size:20}),o?"Logging in...":"Login"]})]}),(0,a.jsxs)("div",{className:"mt-6 text-center text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Don't have an account? "}),(0,a.jsx)("button",{onClick:t,className:"text-accent hover:text-accent-light font-bold transition",children:"Create Account"})]}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-dark-border text-center",children:(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Secure authentication powered by Firebase"})})]})})};var eN=s(7189),ew=s(6784);let ek=()=>{let e=(0,m.CT)(e=>e.unlockedAchievements),t=(0,r.useMemo)(()=>{let e={streak:[],volume:[],consistency:[],variety:[],comeback:[],special:[]};return ew.ACHIEVEMENT_DEFINITIONS.forEach(t=>{e[t.type]&&e[t.type].push(t)}),e},[]),s=ew.ACHIEVEMENT_DEFINITIONS.length,l=e.length,n=Math.round(l/s*100),i=t=>e.includes(t),d=e=>{switch(e){case"streak":return(0,a.jsx)(b.Z,{size:20,className:"text-accent"});case"volume":return(0,a.jsx)(q.Z,{size:20,className:"text-electric-blue"});case"consistency":return(0,a.jsx)(es.Z,{size:20,className:"text-success"});case"variety":return(0,a.jsx)(V.Z,{size:20,className:"text-purple-400"});case"comeback":return(0,a.jsx)(et.Z,{size:20,className:"text-warning"});case"special":return(0,a.jsx)(et.Z,{size:20,className:"text-gold"});default:return(0,a.jsx)(et.Z,{size:20,className:"text-gray-400"})}},c=e=>{switch(e){case"streak":return"Streak Achievements";case"volume":return"Volume Achievements";case"consistency":return"Consistency Achievements";case"variety":return"Variety Achievements";case"comeback":return"Comeback Achievements";case"special":return"Special Achievements";default:return"Achievements"}};return(0,a.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-hero text-accent",children:"Achievements"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-gray-400 mt-2",children:"Track your progress and unlock rewards"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 glass-light rounded-lg border border-accent/50",children:[(0,a.jsx)(et.Z,{size:24,className:"text-warning"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Progress"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-accent",children:[l,"/",s]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Overall Completion"}),(0,a.jsxs)("span",{className:"text-accent font-bold",children:[n,"%"]})]}),(0,a.jsx)("div",{className:"h-3 sm:h-4 bg-dark-card rounded-full overflow-hidden border border-dark-border relative",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-accent via-electric-blue to-cyan-bright rounded-full transition-all duration-500 relative overflow-hidden",style:{width:"".concat(n,"%")},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shine"})})})]})]}),Object.entries(t).map(e=>{let[t,s]=e;if(0===s.length)return null;let r=s.filter(e=>i(e.id)).length,l=s.length;return(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[d(t),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-base sm:text-lg font-bold text-hero",children:c(t)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[r," of ",l," unlocked"]})]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:s.map(e=>{let t=i(e.id);return(0,a.jsx)("div",{className:"p-4 sm:p-5 rounded-lg border-2 transition-all ".concat(t?"glass-light border-accent/50 hover:border-accent shadow-lg shadow-accent/20":"glass border-dark-border opacity-60 hover:opacity-80"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center text-2xl sm:text-3xl ".concat(t?"bg-gradient-to-br from-accent/30 to-electric-blue/30 border-2 border-accent":"bg-dark-card border-2 border-dark-border grayscale"),children:t?e.icon:(0,a.jsx)(C.Z,{size:20,className:"sm:w-6 sm:h-6 text-gray-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-bold text-sm sm:text-base ".concat(t?"text-accent":"text-gray-500"),children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:e.description})]}),t&&(0,a.jsx)(et.Z,{size:18,className:"sm:w-5 sm:h-5 text-warning flex-shrink-0"})]}),(0,a.jsx)("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-dark-border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"number"==typeof e.requirement?"Reach ".concat(e.requirement.toLocaleString()):e.requirement}),t&&(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsxs)("span",{className:"text-electric-blue font-bold",children:["+",e.xpReward," XP"]}),(0,a.jsxs)("span",{className:"text-warning font-bold",children:["+",e.coinReward," \uD83D\uDCB0"]})]})]})})]})]})},e.id)})})]},t)})]})},eS={dystopia:{trackId:"dystopia",title:"Dystopia",artistName:"Freebeats.io",artistHandle:"@freebeatsio",licenseType:"royalty_free_collab",bpm:140,intensity:"grind",audioUrl:"/Dystopia - by Freebeats.io.mp3",artistUrl:"https://freebeats.io"},myClique:{trackId:"my-clique",title:"My Clique",artistName:"Freebeats.io",artistHandle:"@freebeatsio",licenseType:"royalty_free_collab",bpm:150,intensity:"boss",audioUrl:"/My Clique - by Freebeats.io.mp3",artistUrl:"https://freebeats.io"},thuggedOut:{trackId:"thugged-out",title:"Thugged Out",artistName:"Freebeats.io",artistHandle:"@freebeatsio",licenseType:"royalty_free_collab",bpm:145,intensity:"grind",audioUrl:"/Thugged Out - by Freebeats.io.mp3",artistUrl:"https://freebeats.io"}},eC={grind:{playlistId:"grind",name:"The Grind",description:"High-intensity workout playlist to push your limits",intensity:"grind",trackIds:["dystopia","thugged-out"]},boss:{playlistId:"boss",name:"Boss Fight",description:"Maximum intensity for crushing personal records",intensity:"boss",trackIds:["my-clique","dystopia","thugged-out"]},full:{playlistId:"full",name:"Full Session",description:"Complete workout playlist rotating all tracks",intensity:"grind",trackIds:["dystopia","my-clique","thugged-out"]}},eI=e=>eS[e],eR=e=>{let t=eC[e];return t?t.trackIds.map(e=>eS[e]).filter(Boolean):[]},eD=e=>{let t=2*e.totalReps;return 0===e.events.filter(e=>"PAUSE"===e.eventType).length&&(t*=1.2),e.sets.filter(e=>e.actualReps>=e.targetReps).length/(e.sets.length||1)>=.9&&(t*=1.15),"boss"===e.mode&&(t*=1.3),Math.floor(t)},ez=()=>"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(7));var eP=s(0);let eT={weekly_volume_step:.07,max_weekly_increase:.15,deload_factor:.8,promote_avgRIR:3,regress_failRate:.25,regress_completionRate:.85,plateau_sessions:3,readiness_default:.7,base_xp_per_rep:1},eE={Knee:.75,Incline:.85,Standard:1,Wide:1.05,HandRelease:1.08,Tempo:1.1,Diamond:1.15,Decline:1.2,Spiderman:1.25,Explosive:1.28,Pike:1.3,Archer:1.35,Hindu:1.35,PseudoPlanche:1.5},eL={Rookie:1,Warrior:1.25,Elite:1.5},eF={easy:.9,medium:1,hard:1.1,boss:1.25};function eM(e,t,s){return Math.max(t,Math.min(s,e))}function eZ(e){return e.length?e.reduce((e,t)=>e+t,0)/e.length:0}function eA(e){if("number"==typeof e.rir)return eM(e.rir,0,10);let t=e.actualReps-e.targetReps;return t>=6?4:t>=4?3:t>=2?2:t>=0?1:0}function e_(e){return({"Hand-Release":"HandRelease","Hand Release":"HandRelease","Pseudo-Planche":"PseudoPlanche","Pseudo Planche":"PseudoPlanche"})[e]||e}let eW=[{templateId:"rookie-strength-day",dayLabel:"Strength Focus",intensity:"hard",variation:"Standard",sets:4,targetReps:8,restSeconds:90,tempo:"3-1-1",allowVariationSwap:!0},{templateId:"rookie-endurance-day",dayLabel:"Endurance Focus",intensity:"medium",variation:"Incline",sets:5,targetReps:12,restSeconds:60,allowVariationSwap:!0},{templateId:"rookie-volume-day",dayLabel:"Volume Day",intensity:"easy",variation:"Knee",sets:6,targetReps:15,restSeconds:45,allowVariationSwap:!0},{templateId:"rookie-boss-day",dayLabel:"Challenge Day",intensity:"boss",variation:"Wide",sets:3,targetReps:10,restSeconds:120,tempo:"3-2-1",allowVariationSwap:!1}],eO=[{templateId:"warrior-strength-day",dayLabel:"Strength Focus",intensity:"hard",variation:"Diamond",sets:5,targetReps:10,restSeconds:120,tempo:"3-1-1",allowVariationSwap:!0},{templateId:"warrior-endurance-day",dayLabel:"Endurance Focus",intensity:"medium",variation:"Standard",sets:6,targetReps:15,restSeconds:60,allowVariationSwap:!0},{templateId:"warrior-volume-day",dayLabel:"Volume Day",intensity:"easy",variation:"Wide",sets:7,targetReps:18,restSeconds:45,allowVariationSwap:!0},{templateId:"warrior-boss-day",dayLabel:"Challenge Day",intensity:"boss",variation:"Decline",sets:4,targetReps:12,restSeconds:150,tempo:"4-2-1",allowVariationSwap:!1}],eB=[{templateId:"elite-strength-day",dayLabel:"Strength Focus",intensity:"hard",variation:"Archer",sets:5,targetReps:8,restSeconds:150,tempo:"4-1-1",allowVariationSwap:!0},{templateId:"elite-endurance-day",dayLabel:"Endurance Focus",intensity:"medium",variation:"Diamond",sets:6,targetReps:15,restSeconds:75,allowVariationSwap:!0},{templateId:"elite-volume-day",dayLabel:"Volume Day",intensity:"easy",variation:"Decline",sets:8,targetReps:20,restSeconds:60,allowVariationSwap:!0},{templateId:"elite-boss-day",dayLabel:"Challenge Day",intensity:"boss",variation:"PseudoPlanche",sets:4,targetReps:6,restSeconds:180,tempo:"5-2-1",allowVariationSwap:!1}];function eU(e){return{date:e.date,sessionId:e.sessionId||e.id,templateId:e.templateId,variation:e.variation||"Standard",sets:e.setData||[],restSeconds:e.restSeconds,timeSeconds:e.timeSeconds,painReported:e.painReported,notes:e.notes}}let eq=[{id:"beginner-7",name:"Beginner 7-Day",duration:7,difficulty:"beginner",description:"Build foundation with 3 workouts per week",weeklySchedule:[{day:1,templateId:"rookie-volume-day",dayLabel:"Volume Focus"},{day:3,templateId:"rookie-strength-day",dayLabel:"Strength Focus"},{day:5,templateId:"rookie-endurance-day",dayLabel:"Endurance Focus"}]},{id:"intermediate-7",name:"Intermediate 7-Day",duration:7,difficulty:"intermediate",description:"Progressive overload with 4 workouts per week",weeklySchedule:[{day:1,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:2,templateId:"warrior-volume-day",dayLabel:"Volume Day"},{day:4,templateId:"warrior-endurance-day",dayLabel:"Endurance Focus"},{day:6,templateId:"warrior-boss-day",dayLabel:"Challenge Day"}]},{id:"advanced-7",name:"Advanced 7-Day",duration:7,difficulty:"advanced",description:"High intensity with 5 workouts per week",weeklySchedule:[{day:1,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:2,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:3,templateId:"elite-endurance-day",dayLabel:"Endurance Focus"},{day:5,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:7,templateId:"elite-boss-day",dayLabel:"Challenge Day"}]},{id:"beginner-14",name:"Beginner 14-Day",duration:14,difficulty:"beginner",description:"Progressive 2-week foundation builder",weeklySchedule:[{day:1,templateId:"rookie-volume-day",dayLabel:"Volume Focus"},{day:3,templateId:"rookie-strength-day",dayLabel:"Strength Focus"},{day:5,templateId:"rookie-endurance-day",dayLabel:"Endurance Focus"},{day:8,templateId:"rookie-strength-day",dayLabel:"Strength Focus"},{day:10,templateId:"rookie-volume-day",dayLabel:"Volume Day"},{day:12,templateId:"rookie-boss-day",dayLabel:"Challenge Day"}]},{id:"intermediate-14",name:"Intermediate 14-Day",duration:14,difficulty:"intermediate",description:"Balanced 2-week progression cycle",weeklySchedule:[{day:1,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:2,templateId:"warrior-volume-day",dayLabel:"Volume Day"},{day:4,templateId:"warrior-endurance-day",dayLabel:"Endurance Focus"},{day:6,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:8,templateId:"warrior-volume-day",dayLabel:"Volume Day"},{day:10,templateId:"warrior-endurance-day",dayLabel:"Endurance Focus"},{day:12,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:14,templateId:"warrior-boss-day",dayLabel:"Challenge Day"}]},{id:"advanced-14",name:"Advanced 14-Day",duration:14,difficulty:"advanced",description:"Intense 2-week periodization cycle",weeklySchedule:[{day:1,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:2,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:3,templateId:"elite-endurance-day",dayLabel:"Endurance Focus"},{day:5,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:6,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:8,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:9,templateId:"elite-endurance-day",dayLabel:"Endurance Focus"},{day:11,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:12,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:14,templateId:"elite-boss-day",dayLabel:"Challenge Day"}]},{id:"beginner-30",name:"Beginner 30-Day",duration:30,difficulty:"beginner",description:"Complete month-long transformation program",weeklySchedule:[{day:1,templateId:"rookie-volume-day",dayLabel:"Volume Focus"},{day:3,templateId:"rookie-strength-day",dayLabel:"Strength Focus"},{day:5,templateId:"rookie-endurance-day",dayLabel:"Endurance Focus"},{day:8,templateId:"rookie-strength-day",dayLabel:"Strength Focus"},{day:10,templateId:"rookie-volume-day",dayLabel:"Volume Day"},{day:12,templateId:"rookie-endurance-day",dayLabel:"Endurance Focus"},{day:15,templateId:"rookie-strength-day",dayLabel:"Strength Focus"},{day:17,templateId:"rookie-volume-day",dayLabel:"Volume Day"},{day:19,templateId:"rookie-endurance-day",dayLabel:"Endurance Focus"},{day:21,templateId:"rookie-boss-day",dayLabel:"Challenge Day"},{day:22,templateId:"rookie-strength-day",dayLabel:"Strength Focus"},{day:24,templateId:"rookie-volume-day",dayLabel:"Volume Day"},{day:26,templateId:"rookie-endurance-day",dayLabel:"Endurance Focus"},{day:28,templateId:"rookie-boss-day",dayLabel:"Final Challenge"}]},{id:"intermediate-30",name:"Intermediate 30-Day",duration:30,difficulty:"intermediate",description:"Advanced progression with periodization",weeklySchedule:[{day:1,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:2,templateId:"warrior-volume-day",dayLabel:"Volume Day"},{day:4,templateId:"warrior-endurance-day",dayLabel:"Endurance Focus"},{day:6,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:8,templateId:"warrior-volume-day",dayLabel:"Volume Day"},{day:10,templateId:"warrior-endurance-day",dayLabel:"Endurance Focus"},{day:11,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:13,templateId:"warrior-volume-day",dayLabel:"Volume Day"},{day:15,templateId:"warrior-endurance-day",dayLabel:"Endurance Focus"},{day:17,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:18,templateId:"warrior-volume-day",dayLabel:"Volume Day"},{day:20,templateId:"warrior-endurance-day",dayLabel:"Endurance Focus"},{day:21,templateId:"warrior-boss-day",dayLabel:"Mid Challenge"},{day:22,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:24,templateId:"warrior-volume-day",dayLabel:"Volume Day"},{day:25,templateId:"warrior-endurance-day",dayLabel:"Endurance Focus"},{day:27,templateId:"warrior-strength-day",dayLabel:"Strength Focus"},{day:29,templateId:"warrior-boss-day",dayLabel:"Final Challenge"}]},{id:"advanced-30",name:"Advanced 30-Day",duration:30,difficulty:"advanced",description:"Elite-level month-long periodization",weeklySchedule:[{day:1,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:2,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:3,templateId:"elite-endurance-day",dayLabel:"Endurance Focus"},{day:5,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:6,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:8,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:9,templateId:"elite-endurance-day",dayLabel:"Endurance Focus"},{day:10,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:12,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:13,templateId:"elite-endurance-day",dayLabel:"Endurance Focus"},{day:15,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:16,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:17,templateId:"elite-endurance-day",dayLabel:"Endurance Focus"},{day:19,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:20,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:21,templateId:"elite-boss-day",dayLabel:"Mid Challenge"},{day:22,templateId:"elite-endurance-day",dayLabel:"Active Recovery"},{day:24,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:26,templateId:"elite-volume-day",dayLabel:"Volume Day"},{day:27,templateId:"elite-strength-day",dayLabel:"Strength Focus"},{day:29,templateId:"elite-boss-day",dayLabel:"Final Challenge"}]}];function eV(e){return eq.find(t=>t.id===e)}function eX(e,t){let s=new Date(e);return Math.floor((new Date().getTime()-s.getTime())/864e5)%t+1}var eH=s(1914);let eG=e=>{let{onClose:t}=e,{setActivePlan:s,activePlanId:l}=x(),[n,i]=(0,r.useState)(7),[d,c]=(0,r.useState)(l),o=eq.filter(e=>e.duration===n),m=e=>{c(e)},g=e=>{switch(e){case"beginner":return"text-success border-success bg-success/10";case"intermediate":return"text-warning border-warning bg-warning/10";case"advanced":return"text-error border-error bg-error/10"}},p=e=>{switch(e){case"beginner":return(0,a.jsx)(b.Z,{size:16});case"intermediate":return(0,a.jsx)(eN.Z,{size:16});case"advanced":return(0,a.jsx)(V.Z,{size:16})}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto glass glass-border rounded-lg",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-dark-card/95 backdrop-blur-sm border-b glass-border p-4 sm:p-6 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-hero bg-gradient-to-r from-accent to-electric-blue bg-clip-text text-transparent",children:"SELECT TRAINING PLAN"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Choose your program duration and difficulty"})]}),(0,a.jsx)("button",{onClick:t,className:"p-2 hover:bg-accent/10 rounded-lg transition","aria-label":"Close",children:(0,a.jsx)(h.Z,{size:24,className:"text-gray-400"})})]}),(0,a.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Plan Duration"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[7,14,30].map(e=>(0,a.jsx)("button",{onClick:()=>i(e),className:"p-4 rounded-lg border-2 transition ".concat(n===e?"bg-accent/20 border-accent":"glass-light border-dark-border hover:border-accent/50"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(eN.Z,{size:20,className:n===e?"text-accent":"text-gray-400"}),(0,a.jsxs)("span",{className:"font-bold ".concat(n===e?"text-accent":"text-white"),children:[e," Days"]})]})},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Select Difficulty Level"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(e=>{let t=d===e.id,s=l===e.id;return(0,a.jsxs)("button",{onClick:()=>m(e.id),className:"p-5 rounded-lg border-2 transition text-left relative ".concat(t?"bg-accent/20 border-accent shadow-lg shadow-accent/20":"glass-light border-dark-border hover:border-accent/50"),children:[s&&(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsxs)("div",{className:"px-2 py-1 bg-success/20 border border-success rounded text-xs font-bold text-success flex items-center gap-1",children:[(0,a.jsx)(eH.Z,{size:12}),"ACTIVE"]})}),(0,a.jsx)("div",{className:"flex items-center gap-2 mb-3",children:(0,a.jsxs)("div",{className:"px-3 py-1 rounded-lg border text-xs font-bold uppercase flex items-center gap-1.5 ".concat(g(e.difficulty)),children:[p(e.difficulty),e.difficulty]})}),(0,a.jsx)("div",{className:"text-lg font-black mb-2 ".concat(t?"text-accent":"text-white"),children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-4",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Duration"}),(0,a.jsxs)("span",{className:"font-bold text-white",children:[e.duration," Days"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Workouts"}),(0,a.jsxs)("span",{className:"font-bold text-white",children:[e.weeklySchedule.length," Sessions"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Frequency"}),(0,a.jsxs)("span",{className:"font-bold text-white",children:[Math.round(e.weeklySchedule.length/e.duration*7)," per week"]})]})]}),t&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-accent/30 flex items-center justify-center text-accent text-sm font-bold",children:[(0,a.jsx)(eH.Z,{size:16,className:"mr-2"}),"SELECTED"]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4 border-t glass-border",children:[l&&(0,a.jsx)("button",{onClick:()=>{s(null),c(null),t()},className:"flex-1 py-3 glass-light border border-error/50 rounded-lg font-bold text-error hover:bg-error/10 transition",children:"Remove Active Plan"}),(0,a.jsx)("button",{onClick:t,className:"flex-1 py-3 glass-light border border-dark-border rounded-lg font-bold hover:border-accent transition",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{d&&(s(d),t())},disabled:!d,className:"flex-1 py-3 rounded-lg font-bold transition ".concat(d?"bg-gradient-to-r from-accent to-electric-blue text-dark hover:shadow-lg hover:shadow-accent/50":"glass-light text-gray-500 cursor-not-allowed"),children:"Confirm Plan"})]})]})]})})},eY=e=>{var t;let{onStartSession:s,onCancel:l}=e,n=x(),[i,d]=(0,r.useState)("free"),[c,o]=(0,r.useState)(!0),[m,g]=(0,r.useState)("grind"),[p,h]=(0,r.useState)("set"),[u,f]=(0,r.useState)(!0),[y,j]=(0,r.useState)(90),[v,N]=(0,r.useState)(null),[w,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if("plan_day"===i){let e;let t={userId:n.userId,level:n.currentRank,division:n.division,goal:n.goal,baselineMax:n.baselineMax,readiness:n.readiness};if(n.activePlanId&&n.planStartDate){let t=eV(n.activePlanId);if(t){let s=eX(n.planStartDate,t.duration),a=function(e,t){let s=e.weeklySchedule.find(e=>e.day===t);return s?s.templateId:null}(t,s);a&&(e=[...eW,...eO,...eB].find(e=>e.templateId===a))}}e||(e=function(e,t){let s=function(e){switch(e){case"Rookie":default:return eW;case"Warrior":return eO;case"Elite":return eB}}(e);return"Strength"===t?s.find(e=>"Strength Focus"===e.dayLabel)||s[0]:"Endurance"===t?s.find(e=>"Endurance Focus"===e.dayLabel)||s[1]:"Hypertrophy"===t?s.find(e=>"Volume Day"===e.dayLabel)||s[2]:s[0]}(n.division,n.goal));let s=function(e,t,s){var a,r,l,n,i,d,c;let o=eM(null!==(a=e.readiness)&&void 0!==a?a:eT.readiness_default,0,1),x=function(e,t){let s=e.injuryFlags||{};return!!(s.wristPain||s.shoulderPain||s.elbowPain||s.otherPain)||!!(null==t?void 0:t.painReported)}(e,s[s.length-1]),m=function(e,t){var s;if(!e.length)return{avgRIR:null,completionRate:1,failRate:0,totalTarget:0,totalActual:0};let a=e.flatMap(e=>e.sets),r=null!==(s=null==t?void 0:t.sets)&&void 0!==s?s:a.length,l=a.filter(e=>e.failed||e.actualReps<e.targetReps).length,n=a.length-l,i=a.map(eA).filter(e=>null!==e),d=i.length?eZ(i):null,c=a.reduce((e,t)=>e+(t.targetReps||0),0),o=a.reduce((e,t)=>e+(t.actualReps||0),0);return{avgRIR:d,completionRate:r>0?eM(n/r,0,1):1,failRate:a.length>0?eM(l/a.length,0,1):0,totalTarget:c,totalActual:o}}(s.filter(e=>!t.templateId||e.templateId===t.templateId).slice(-6),t),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eT.plateau_sessions;if(e.length<t)return!1;let s=e.slice(-t),a=s.map(e=>e.sets.reduce((e,t)=>e+t.actualReps,0)),r=a[a.length-1],l=Math.max(...a.slice(0,-1)),n=s.flatMap(e=>e.sets.map(eA)).filter(e=>null!==e),i=n.length?eZ(n):1,d=s.every(e=>e.sets.every(e=>!e.failed));return r<=l&&i<=1.1&&d}(s),p="HOLD";p=x?"REGRESS":m.failRate>=eT.regress_failRate?"REGRESS":m.completionRate<eT.regress_completionRate?"REGRESS":(null!==(r=m.avgRIR)&&void 0!==r?r:1)>=eT.promote_avgRIR&&m.completionRate>=.95&&o>=.65?"PROMOTE":"HOLD";let h=e_(t.variation),u=t.sets,b=Array.from({length:t.sets},()=>t.targetReps),f=t.restSeconds,y=t.tempo,j=[];if(g&&"REGRESS"!==p&&(j.push("Plateau detected: adding tempo focus and slightly more rest (stimulus change)."),y||(y="3-0-1"),f=eM(f+10,30,180),p="HOLD"),"REGRESS"!==p||(j.push("Regression triggered: deloading volume + simplifying variation."),b=b.map(e=>Math.max(1,Math.floor(e*eT.deload_factor))),u>=5&&(u-=1,b=b.slice(0,u)),!1!==t.allowVariationSwap&&(h=function(e){let t=["Knee","Incline","Standard","Wide","HandRelease","Tempo","Diamond","Decline","Spiderman","Explosive","Archer","PseudoPlanche"],s=t.indexOf(e_(e));return s<=0?t[0]:t[s-1]}(h),j.push("Easier variation: ".concat(h))),f=eM(f+15,45,210),y||(y="2-0-1")),"HOLD"===p&&(j.push("Hold: keep progression steady. Prioritize strict form."),o>=.8&&(null!==(l=m.avgRIR)&&void 0!==l?l:1)>=2&&"boss"!==t.intensity&&(b=b.map(e=>e+1),j.push("Micro-progression: +1 rep per set (high readiness)."))),"PROMOTE"===p){j.push("Promote: increasing workload within caps.");let e=eM(eT.weekly_volume_step*(.8+.4*o),0,eT.max_weekly_increase),s=Math.max(1,Math.floor(t.targetReps*e));b=b.map(e=>e+s),u<6&&o>=.75&&"boss"!==t.intensity&&(u+=1,b.push(b[b.length-1]),j.push("Added 1 set (volume progression).")),!1!==t.allowVariationSwap&&m.totalTarget>0&&m.totalActual/Math.max(1,m.totalTarget)>=1.15&&(h=function(e){let t=["Knee","Incline","Standard","Wide","HandRelease","Tempo","Diamond","Decline","Spiderman","Explosive","Archer","PseudoPlanche"],s=t.indexOf(e_(e));return s<0?e:s>=t.length-1?t[t.length-1]:t[s+1]}(h),j.push("Harder variation: ".concat(h))),"boss"===t.intensity||y||(f=eM(f-5,30,180))}"Strength"===e.goal?(b=b.map(e=>eM(Math.round(.85*e),3,20)),f=eM(f+15,45,240),j.push("Strength focus: fewer reps, more rest.")):"Endurance"===e.goal?(b=b.map(e=>eM(Math.round(1.05*e),5,40)),f=eM(f-5,20,180),j.push("Endurance focus: slightly higher reps, slightly lower rest.")):"Hypertrophy"===e.goal&&(b=b.map(e=>eM(e,6,25)),f=eM(f,45,120),j.push("Hypertrophy focus: moderate reps & rest window."));let v=Math.max(8,Math.floor(.85*e.baselineMax));b=b.map(e=>eM(e,1,v));let N=(n=e,i=h,d=t.intensity,{variation:null!==(c=eE[e_(i)])&&void 0!==c?c:1,division:eL[n.division],intensity:eF[d]}),w={division:N.division,variation:N.variation,intensity:N.intensity,streak:1},k=Math.round(b.reduce((e,t)=>e+t,0)*eT.base_xp_per_rep*w.division*w.variation*w.intensity*w.streak);return{templateId:t.templateId,variation:h,sets:u,targetReps:b,restSeconds:f,tempo:y,coachingNotes:j,xp:{baseXPPerRep:eT.base_xp_per_rep,estimatedXP:k,multipliers:w},debug:{status:p,plateau:g,avgRIR:m.avgRIR,completionRate:m.completionRate,failRate:m.failRate,readiness:o}}}(t,e,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e.filter(e=>e.setData&&e.setData.length>0).slice(-t).map(eU)}(n.workouts,10));N(s),s.restSeconds&&j(s.restSeconds)}},[i,n]);let S=[{id:"free",name:"Free Session",description:"No rules, just push-ups and music",icon:b.Z},{id:"plan_day",name:"Plan Day",description:"Follow your adaptive training plan",icon:es.Z},{id:"boss",name:"Boss Fight",description:"Max intensity, chase a new record",icon:et.Z},{id:"emom",name:"EMOM",description:"Every minute on the minute",icon:eo.Z},{id:"ladder",name:"Ladder",description:"Progressive rep increase each set",icon:q.Z}],C=Object.values(eC),I=(m?eC[m]:null)?eR(m):[],R=n.activePlanId?eV(n.activePlanId):null,D=R&&n.planStartDate?eX(n.planStartDate,R.duration):null,z=!!R&&!!D&&R.weeklySchedule.some(e=>e.day===D);return(0,a.jsxs)(a.Fragment,{children:[w&&(0,a.jsx)(eG,{onClose:()=>k(!1)}),(0,a.jsx)("div",{className:"min-h-screen bg-dark flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-2xl w-full space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl sm:text-5xl font-black text-hero bg-gradient-to-r from-accent via-electric-blue to-warning bg-clip-text text-transparent mb-3",children:"IRON MODE"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm sm:text-base",children:"Session-based training with integrated music"})]}),"plan_day"===i&&(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Training Plan"}),(0,a.jsx)("button",{onClick:()=>k(!0),className:"px-3 py-1.5 text-xs font-bold glass-light border border-accent/50 rounded hover:bg-accent/10 transition text-accent",children:R?"Change Plan":"Select Plan"})]}),R&&null!==D?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-white font-bold",children:R.name}),(0,a.jsx)("span",{className:"text-xs text-gray-500 capitalize",children:R.difficulty})]}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:R.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Day:"}),(0,a.jsxs)("span",{className:"ml-2 font-bold text-accent",children:[D," / ",R.duration]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,a.jsx)("span",{className:"ml-2 font-bold ".concat(z?"text-success":"text-warning"),children:z?"Workout Day":"Rest Day"})]})]}),!z&&(0,a.jsx)("div",{className:"mt-3 p-3 bg-warning/10 border border-warning/30 rounded text-sm text-warning",children:"Today is a rest day in your plan. You can still workout or select a different session type."})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:"No training plan selected"}),(0,a.jsx)("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-accent/20 border border-accent rounded font-bold text-accent hover:bg-accent/30 transition",children:"Choose a Plan"})]})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 sm:p-6",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Session Type"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:S.map(e=>{let t=e.icon,s=i===e.id;return(0,a.jsxs)("button",{onClick:()=>d(e.id),className:"p-4 rounded-lg border-2 transition text-left ".concat(s?"bg-accent/20 border-accent":"glass-light border-dark-border hover:border-accent/50"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(t,{size:20,className:s?"text-accent":"text-gray-400"}),(0,a.jsx)("div",{className:"font-bold ".concat(s?"text-accent":"text-white"),children:e.name})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:e.description})]},e.id)})})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eP.Z,{size:18,className:"text-accent"}),(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Music"})]}),(0,a.jsx)("button",{onClick:()=>o(!c),className:"px-4 py-1.5 rounded-lg text-sm font-bold transition ".concat(c?"bg-accent text-dark":"glass-light text-gray-400 border border-dark-border"),children:c?"ON":"OFF"})]}),c&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Select Playlist"}),C.map(e=>{let t=m===e.playlistId;return(0,a.jsxs)("button",{onClick:()=>g(e.playlistId),className:"w-full p-3 rounded-lg border transition text-left ".concat(t?"bg-accent/10 border-accent":"glass-light border-dark-border hover:border-accent/50"),children:[(0,a.jsx)("div",{className:"font-bold text-sm ".concat(t?"text-accent":"text-white"),children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.description}),t&&I.length>0&&(0,a.jsxs)("div",{className:"mt-2 pt-2 border-t border-dark-border",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Tracks:"}),I.map(e=>(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["• ",e.title," - ",e.artistName," (",e.bpm," BPM)"]},e.trackId))]})]},e.playlistId)})]})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 sm:p-6 space-y-4",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Settings"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Rep Logging"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>h("set"),className:"flex-1 p-3 rounded-lg border transition ".concat("set"===p?"bg-accent/20 border-accent text-accent":"glass-light border-dark-border text-gray-400"),children:[(0,a.jsx)("div",{className:"font-bold text-sm",children:"Set-Based"}),(0,a.jsx)("div",{className:"text-xs opacity-75",children:"Recommended"})]}),(0,a.jsxs)("button",{onClick:()=>h("tap"),className:"flex-1 p-3 rounded-lg border transition ".concat("tap"===p?"bg-accent/20 border-accent text-accent":"glass-light border-dark-border text-gray-400"),children:[(0,a.jsx)("div",{className:"font-bold text-sm",children:"Tap-to-Count"}),(0,a.jsx)("div",{className:"text-xs opacity-75",children:"Interactive"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-white",children:"Rest Timer"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Auto-start after each set"})]}),(0,a.jsx)("button",{onClick:()=>f(!u),className:"px-4 py-1.5 rounded-lg text-sm font-bold transition ".concat(u?"bg-accent text-dark":"glass-light text-gray-400 border border-dark-border"),children:u?"ON":"OFF"})]}),u&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Rest Duration (seconds)"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>j(Math.max(30,y-15)),className:"px-3 py-2 glass-light rounded hover:bg-accent/20 transition",children:"-15"}),(0,a.jsxs)("div",{className:"flex-1 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-accent",children:y}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"seconds"})]}),(0,a.jsx)("button",{onClick:()=>j(Math.min(300,y+15)),className:"px-3 py-2 glass-light rounded hover:bg-accent/20 transition",children:"+15"})]})]})]}),"plan_day"===i&&v&&(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 sm:p-6",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4",children:"AI Training Plan"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"px-3 py-1 rounded-lg text-xs font-bold uppercase ".concat("PROMOTE"===v.debug.status?"bg-green-500/20 text-green-400 border border-green-500/50":"REGRESS"===v.debug.status?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"bg-blue-500/20 text-blue-400 border border-blue-500/50"),children:v.debug.status}),v.debug.plateau&&(0,a.jsx)("div",{className:"px-3 py-1 rounded-lg text-xs font-bold uppercase bg-yellow-500/20 text-yellow-400 border border-yellow-500/50",children:"PLATEAU DETECTED"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Variation"}),(0,a.jsx)("div",{className:"text-sm font-bold text-accent",children:v.variation})]}),(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Sets"}),(0,a.jsx)("div",{className:"text-sm font-bold text-accent",children:v.sets})]}),(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Rest"}),(0,a.jsxs)("div",{className:"text-sm font-bold text-accent",children:[v.restSeconds,"s"]})]}),(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Est. XP"}),(0,a.jsx)("div",{className:"text-sm font-bold text-electric-blue",children:v.xp.estimatedXP})]})]}),(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Rep Targets"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:v.targetReps.map((e,t)=>(0,a.jsxs)("div",{className:"px-3 py-1.5 bg-accent/20 border border-accent/50 rounded text-sm font-bold text-accent",children:["Set ",t+1,": ",e]},t))})]}),v.tempo&&(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Tempo"}),(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,a.jsx)("span",{className:"font-bold text-accent",children:v.tempo}),(0,a.jsx)("span",{className:"text-xs ml-2 text-gray-500",children:"(eccentric-pause-concentric)"})]})]}),v.coachingNotes.length>0&&(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Coach Notes"}),(0,a.jsx)("div",{className:"space-y-1",children:v.coachingNotes.map((e,t)=>(0,a.jsxs)("div",{className:"text-sm text-gray-300 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent",children:"•"}),(0,a.jsx)("span",{children:e})]},t))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{className:"text-center p-2 glass-light rounded",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Completion"}),(0,a.jsxs)("div",{className:"text-sm font-bold text-accent",children:[Math.round(100*v.debug.completionRate),"%"]})]}),(0,a.jsxs)("div",{className:"text-center p-2 glass-light rounded",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Avg RIR"}),(0,a.jsx)("div",{className:"text-sm font-bold text-accent",children:(null===(t=v.debug.avgRIR)||void 0===t?void 0:t.toFixed(1))||"N/A"})]}),(0,a.jsxs)("div",{className:"text-center p-2 glass-light rounded",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Readiness"}),(0,a.jsxs)("div",{className:"text-sm font-bold text-accent",children:[Math.round(100*v.debug.readiness),"%"]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:l,className:"flex-1 py-3 glass-light border border-dark-border rounded-lg font-bold hover:border-accent transition",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{s({sessionType:i,musicEnabled:c,playlistId:c?m:void 0,loggingStyle:p,restTimer:u,restDuration:y,adaptivePlan:"plan_day"===i&&v?v:void 0})},className:"flex-1 py-3 bg-gradient-to-r from-accent to-electric-blue text-dark font-bold rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider",children:"Start Session"})]})]})})]})};var eK=s(6820),eJ=s(8208),eQ=s(2743);let e$=e=>{let{config:t,onEndSession:s,userId:l}=e,[n,i]=(0,r.useState)(()=>({sessionId:ez(),userId:l,startedAt:Date.now(),mode:t.sessionType,music:{enabled:t.musicEnabled,playlistId:t.playlistId,tracksPlayed:[]},sets:[],events:[{eventType:"SESSION_END",timestamp:Date.now()}],totalReps:0,totalTime:0})),[d,c]=(0,r.useState)(1),[o,x]=(0,r.useState)(10),[m,g]=(0,r.useState)("standard"),[p,u]=(0,r.useState)(10),[b,f]=(0,r.useState)("okay"),[y,j]=(0,r.useState)(0),[v,N]=(0,r.useState)(0),[w,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[I,R]=(0,r.useState)(0),[D,z]=(0,r.useState)(!1),P=(0,r.useRef)(null),T=t.playlistId?eR(t.playlistId):[],E=T[I];(0,r.useEffect)(()=>{if(S)return;let e=setInterval(()=>{j(e=>e+1)},1e3);return()=>clearInterval(e)},[S]),(0,r.useEffect)(()=>{if(!w||S)return;let e=setInterval(()=>{N(e=>e>=t.restDuration?(k(!1),0):e+1)},1e3);return()=>clearInterval(e)},[w,S,t.restDuration]),(0,r.useEffect)(()=>{t.musicEnabled&&!S&&L()},[I]),(0,r.useEffect)(()=>{let e=setInterval(()=>{localStorage.setItem("iron-mode-draft",JSON.stringify(n))},5e3);return()=>clearInterval(e)},[n]);let L=()=>{P.current&&E&&(P.current.play(),z(!0))},M=()=>{P.current&&(P.current.pause(),z(!1))},Z=()=>{0!==T.length&&(R((I+1)%T.length),E&&i(e=>({...e,music:{...e.music,tracksPlayed:[...e.music.tracksPlayed,E.trackId]}})))},A=(e,t)=>{i(s=>({...s,events:[...s.events,{eventType:e,timestamp:Date.now(),data:t}]}))};(0,r.useEffect)(()=>{!w&&P.current&&(P.current.volume=1)},[w]);let _=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"));return(0,a.jsxs)("div",{className:"min-h-screen bg-dark p-4",children:[E&&(0,a.jsx)("audio",{ref:P,src:E.audioUrl,onEnded:Z,autoPlay:t.musicEnabled}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[(0,a.jsx)("div",{className:"glass glass-border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Session Time"}),(0,a.jsx)("div",{className:"text-3xl font-black text-accent",children:_(y)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Total Reps"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-electric-blue",children:n.totalReps})]})]})}),t.musicEnabled&&E&&(0,a.jsx)("div",{className:"glass glass-border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Now Playing"}),(0,a.jsx)("div",{className:"font-bold text-white truncate",children:E.title}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:E.artistName})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>D?M():L(),className:"p-2 glass-light rounded-lg hover:bg-accent/20 transition",children:D?(0,a.jsx)(eK.Z,{size:20}):(0,a.jsx)(eJ.Z,{size:20})}),(0,a.jsx)("button",{onClick:Z,className:"p-2 glass-light rounded-lg hover:bg-accent/20 transition",children:(0,a.jsx)(eQ.Z,{size:20})})]})]})}),w&&(0,a.jsx)("div",{className:"glass glass-border rounded-lg p-6 bg-accent/10 border-accent",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 uppercase tracking-wider mb-2",children:"Rest Period"}),(0,a.jsx)("div",{className:"text-5xl font-black text-accent mb-2",children:_(t.restDuration-v)}),(0,a.jsx)("div",{className:"h-2 bg-dark-card rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-accent transition-all duration-1000",style:{width:"".concat(v/t.restDuration*100,"%")}})})]})}),!w&&(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-400 uppercase tracking-wider",children:["Set ",d]}),(0,a.jsx)("div",{className:"text-xl font-bold text-white mt-1",children:O.PUSHUP_TYPES[m].name})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Reps Completed"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 justify-center",children:[(0,a.jsx)("button",{onClick:()=>x(Math.max(1,o-1)),className:"p-3 glass-light rounded-lg hover:bg-accent/20 transition",children:"-1"}),(0,a.jsx)("button",{onClick:()=>x(Math.max(1,o-5)),className:"p-3 glass-light rounded-lg hover:bg-accent/20 transition",children:"-5"}),(0,a.jsx)("div",{className:"w-24 text-center",children:(0,a.jsx)("input",{type:"number",value:o,onChange:e=>x(parseInt(e.target.value)||1),className:"w-full glass-light border border-accent rounded-lg px-4 py-3 text-center text-3xl font-black text-accent outline-none"})}),(0,a.jsx)("button",{onClick:()=>x(o+5),className:"p-3 glass-light rounded-lg hover:bg-accent/20 transition",children:"+5"}),(0,a.jsx)("button",{onClick:()=>x(o+1),className:"p-3 glass-light rounded-lg hover:bg-accent/20 transition",children:"+1"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-2 text-center",children:"How did it feel?"}),(0,a.jsx)("div",{className:"flex gap-2 justify-center",children:["easy","okay","hard"].map(e=>(0,a.jsx)("button",{onClick:()=>f(e),className:"px-6 py-2 rounded-lg font-bold capitalize transition ".concat(b===e?"bg-accent text-dark":"glass-light text-gray-400 hover:text-white"),children:e},e))})]}),(0,a.jsxs)("button",{onClick:()=>{let e={setNumber:d,variation:m,targetReps:p,actualReps:o,difficulty:b,timestamp:Date.now(),restAfter:t.restTimer?t.restDuration:void 0};i(t=>({...t,sets:[...t.sets,e],totalReps:t.totalReps+o})),A("SET_COMPLETE",e),localStorage.setItem("iron-mode-draft",JSON.stringify({...n,sets:[...n.sets,e]})),t.restTimer&&(k(!0),N(0),A("REST_START"),P.current&&(P.current.volume=.7)),c(e=>e+1),x(10),f("okay")},className:"w-full py-4 bg-gradient-to-r from-accent to-electric-blue text-dark font-black text-lg rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider flex items-center justify-center gap-2",children:[(0,a.jsx)(F.Z,{size:24}),"Complete Set"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Sets Completed"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-accent mt-1",children:n.sets.length})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-4 text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Avg Reps/Set"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-electric-blue mt-1",children:n.sets.length>0?Math.round(n.totalReps/n.sets.length):0})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>{let e=!S;C(e),e?(M(),A("PAUSE")):(L(),A("RESUME"))},className:"flex-1 py-3 glass-light border border-accent rounded-lg font-bold hover:bg-accent/10 transition",children:S?"Resume":"Pause"}),(0,a.jsxs)("button",{onClick:()=>{A("SESSION_END");let e={...n,endedAt:Date.now(),totalTime:y};M(),localStorage.removeItem("iron-mode-draft"),s(e)},className:"flex-1 py-3 bg-gradient-to-r from-warning to-gold text-dark font-bold rounded-lg hover:shadow-lg transition uppercase tracking-wider flex items-center justify-center gap-2",children:[(0,a.jsx)(h.Z,{size:20}),"End Session"]})]})]})]})};var e0=s(8940);let e1=e=>{var t;let{session:s,onClose:r}=e,l=eD(s),n=s.totalTime,i=s.sets.length,d=i>0?Math.round(s.totalReps/i):0,c=s.sets.filter(e=>e.actualReps>=e.targetReps).length,o=i>0?Math.round(c/i*100):0,x=Array.from(new Set(s.music.tracksPlayed)).map(e=>eI(e)).filter(Boolean);return(0,a.jsx)("div",{className:"min-h-screen bg-dark flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-2xl w-full space-y-6",children:[(0,a.jsxs)("div",{className:"text-center glass glass-border rounded-lg p-8",children:[(0,a.jsx)("div",{className:"text-5xl mb-4",children:"\uD83C\uDFC6"}),(0,a.jsx)("div",{className:"text-3xl sm:text-4xl font-black text-hero bg-gradient-to-r from-accent via-electric-blue to-warning bg-clip-text text-transparent mb-2",children:"SESSION COMPLETE"}),(0,a.jsx)("div",{className:"text-gray-400",children:"You crushed it!"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6 text-center",children:[(0,a.jsx)("div",{className:"text-electric-blue mb-2",children:(0,a.jsx)(et.Z,{size:32,className:"mx-auto"})}),(0,a.jsx)("div",{className:"text-3xl font-black text-accent",children:s.totalReps}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mt-1",children:"Total Reps"})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6 text-center",children:[(0,a.jsx)("div",{className:"text-warning mb-2",children:(0,a.jsx)(b.Z,{size:32,className:"mx-auto"})}),(0,a.jsx)("div",{className:"text-3xl font-black text-warning",children:l}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mt-1",children:"XP Earned"})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6 text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-2",children:(0,a.jsx)(eo.Z,{size:28,className:"mx-auto"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:"".concat(Math.floor(n/60),":").concat((n%60).toString().padStart(2,"0"))}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mt-1",children:"Duration"})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6 text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-2",children:(0,a.jsx)(q.Z,{size:28,className:"mx-auto"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:d}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mt-1",children:"Avg Reps/Set"})]})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Performance"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Sets Completed"}),(0,a.jsx)("span",{className:"font-bold text-accent",children:i})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Target Achievement"}),(0,a.jsxs)("span",{className:"font-bold text-electric-blue",children:[o,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Difficulty Rating"}),(0,a.jsx)("div",{className:"flex gap-1",children:s.sets.map((e,t)=>(0,a.jsx)("div",{className:"w-2 h-6 rounded ".concat("easy"===e.difficulty?"bg-green-400":"okay"===e.difficulty?"bg-yellow-400":"bg-red-400")},t))})]}),(0,a.jsxs)("div",{className:"pt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[o,"%"]})]}),(0,a.jsx)("div",{className:"h-3 bg-dark-card rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-accent to-electric-blue",style:{width:"".concat(o,"%")}})})]})]})]}),s.music.enabled&&x.length>0&&(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(eP.Z,{size:18,className:"text-accent"}),(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Music by"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[x.map(e=>(0,a.jsxs)("div",{className:"glass-light rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-white",children:e.title}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:e.artistName})]}),(0,a.jsx)("a",{href:e.artistUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 glass-light rounded-lg hover:bg-accent/20 transition text-accent",children:(0,a.jsx)(e0.Z,{size:18})})]},e.trackId)),(0,a.jsx)("div",{className:"text-xs text-gray-500 text-center pt-2",children:"Tap to follow / stream / support"})]})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-3",children:"XP Bonuses Applied"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[0===s.events.filter(e=>"PAUSE"===e.eventType).length&&(0,a.jsxs)("div",{className:"flex justify-between items-center text-success",children:[(0,a.jsx)("span",{children:"✓ No pauses"}),(0,a.jsx)("span",{className:"font-bold",children:"+20%"})]}),o>=90&&(0,a.jsxs)("div",{className:"flex justify-between items-center text-success",children:[(0,a.jsx)("span",{children:"✓ High completion rate"}),(0,a.jsx)("span",{className:"font-bold",children:"+15%"})]}),"boss"===s.mode&&(0,a.jsxs)("div",{className:"flex justify-between items-center text-warning",children:[(0,a.jsx)("span",{children:"✓ Boss Mode"}),(0,a.jsx)("span",{className:"font-bold",children:"+30%"})]})]})]}),"plan_day"===s.mode&&s.adaptivePlan&&(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6 bg-accent/10 border-accent",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-accent uppercase tracking-wider mb-4",children:"Plan Day Results"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Planned Variation"}),(0,a.jsx)("div",{className:"text-sm font-bold text-white",children:s.adaptivePlan.variation})]}),(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Actual Variation"}),(0,a.jsx)("div",{className:"text-sm font-bold text-white",children:(null===(t=s.sets[0])||void 0===t?void 0:t.variation)||s.adaptivePlan.variation})]})]}),(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Set Performance"}),(0,a.jsx)("div",{className:"space-y-2",children:s.adaptivePlan.targetReps.map((e,t)=>{let r=s.sets[t],l=r&&r.actualReps>=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:["Set ",t+1]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[e," planned"]}),(0,a.jsx)("span",{className:"text-sm font-bold",children:"→"}),(0,a.jsxs)("span",{className:"text-sm font-bold ".concat(l?"text-success":"text-warning"),children:[(null==r?void 0:r.actualReps)||0," done"]}),l&&(0,a.jsx)("span",{className:"text-success",children:"✓"})]})]},t)})})]}),s.adaptivePlan.coachingNotes.length>0&&(0,a.jsxs)("div",{className:"glass-light p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Coach Feedback"}),(0,a.jsx)("div",{className:"space-y-1",children:s.adaptivePlan.coachingNotes.map((e,t)=>(0,a.jsxs)("div",{className:"text-sm text-gray-300 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-accent",children:"•"}),(0,a.jsx)("span",{children:e})]},t))})]}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,a.jsxs)("div",{className:"px-4 py-2 rounded-lg text-sm font-bold uppercase ".concat("PROMOTE"===s.adaptivePlan.debug.status?"bg-green-500/20 text-green-400 border border-green-500/50":"REGRESS"===s.adaptivePlan.debug.status?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"bg-blue-500/20 text-blue-400 border border-blue-500/50"),children:["Plan Status: ",s.adaptivePlan.debug.status]})})]})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-lg p-6 bg-accent/10 border-accent",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-accent uppercase tracking-wider mb-2",children:"Next Session Recommendation"}),(0,a.jsx)("div",{className:"text-gray-300",children:d>=15?"\uD83D\uDD25 Strong performance! Consider increasing intensity or trying Boss Mode.":d>=10?"\uD83D\uDCAA Solid work! Keep consistent to build endurance.":"\uD83C\uDFAF Focus on form over quantity. Quality reps build strength."})]}),(0,a.jsx)("button",{onClick:r,className:"w-full py-4 bg-gradient-to-r from-accent to-electric-blue text-dark font-black text-lg rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider",children:"Back to Dashboard"}),(0,a.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[(0,a.jsx)("div",{children:"Session saved automatically"}),(0,a.jsxs)("div",{className:"mt-1",children:["Generated with"," ",(0,a.jsx)("a",{href:"https://claude.com/claude-code",className:"text-accent hover:underline",children:"Claude Code"})]})]})]})})},e5=e=>{let{onExit:t}=e,[s,l]=(0,r.useState)("setup"),[n,i]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),o=(0,m.CT)(e=>e.userId),x=(0,m.CT)(e=>e.logWorkout),g=(0,m.CT)(e=>e.addXP);return(0,a.jsxs)(a.Fragment,{children:["setup"===s&&(0,a.jsx)(eY,{onStartSession:e=>{i(e),l("session")},onCancel:t}),"session"===s&&n&&(0,a.jsx)(e$,{config:n,onEndSession:e=>{c(e),e.endedAt&&e.xpEarned&&(x(e.totalReps,e.sets),g(e.xpEarned));let t=JSON.parse(localStorage.getItem("iron-mode-sessions")||"[]");t.push(e),localStorage.setItem("iron-mode-sessions",JSON.stringify(t)),l("summary")},userId:o}),"summary"===s&&d&&(0,a.jsx)(e1,{session:d,onClose:()=>{l("setup"),i(null),c(null),t()}})]})};function e2(){let[e,t]=(0,r.useState)("dashboard"),[s,l]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0),d=(0,m.CT)(e=>e.isAuthenticated),c=(0,m.CT)(e=>e.username),o=(0,m.CT)(e=>e.currentRank),x=(0,m.CT)(e=>e.currentStreak),g=(0,m.CT)(e=>e.longestStreak),h=(0,m.CT)(e=>e.dailyGoal),u=(0,m.CT)(e=>e.proficiency),f=(0,m.CT)(e=>e.isWorldRecordCandidate),y=(0,m.CT)(e=>e.workouts),j=(0,m.CT)(e=>e.streakFreezes),v=(0,m.CT)(e=>e.getNextRankProgress),N=(0,m.CT)(e=>e.getStreakStatus),w=(0,m.CT)(e=>e.getTodayWorkout),k=v();N();let S=o<m.AE.length?m.AE[o]:null,C=w();return d||s?"register"===s?(0,a.jsx)(ey,{onSwitchToLogin:()=>l("login")}):"login"===s?(0,a.jsx)(ev,{onSwitchToRegister:()=>l("register")}):(0,a.jsxs)("div",{className:"min-h-screen bg-dark relative",children:[(0,a.jsx)(Q,{}),(0,a.jsx)("div",{className:"glass-light border-b border-dark-border sticky top-[57px] sm:top-[73px] z-40",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-3 sm:px-6",children:(0,a.jsxs)("div",{className:"flex gap-2 overflow-x-auto py-2 sm:py-4 scrollbar-hide",children:[(0,a.jsxs)("button",{onClick:()=>t("dashboard"),className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-6 py-2 rounded-lg font-display font-bold transition whitespace-nowrap text-sm sm:text-base active:scale-95 ".concat("dashboard"===e?"bg-accent text-dark":"glass-light text-gray-400 hover:text-white"),children:[(0,a.jsx)(q.Z,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"Dashboard"]}),(0,a.jsxs)("button",{onClick:()=>t("calendar"),className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-6 py-2 rounded-lg font-display font-bold transition whitespace-nowrap text-sm sm:text-base active:scale-95 ".concat("calendar"===e?"bg-accent text-dark":"glass-light text-gray-400 hover:text-white"),children:[(0,a.jsx)(eN.Z,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"Calendar"]}),(0,a.jsxs)("button",{onClick:()=>t("leaderboard"),className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-6 py-2 rounded-lg font-display font-bold transition whitespace-nowrap text-sm sm:text-base active:scale-95 ".concat("leaderboard"===e?"bg-accent text-dark":"glass-light text-gray-400 hover:text-white"),children:[(0,a.jsx)(et.Z,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"Leaderboard"]}),(0,a.jsxs)("button",{onClick:()=>t("achievements"),className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-6 py-2 rounded-lg font-display font-bold transition whitespace-nowrap text-sm sm:text-base active:scale-95 ".concat("achievements"===e?"bg-accent text-dark":"glass-light text-gray-400 hover:text-white"),children:[(0,a.jsx)(V.Z,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"Achievements"]}),(0,a.jsxs)("button",{onClick:()=>t("iron-mode"),className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-6 py-2 rounded-lg font-display font-bold transition whitespace-nowrap text-sm sm:text-base active:scale-95 ".concat("iron-mode"===e?"bg-gradient-to-r from-warning to-gold text-dark":"glass-light text-warning hover:text-warning border border-warning/30"),children:[(0,a.jsx)(b.Z,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"IRON MODE"]})]})})}),"dashboard"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("section",{className:"glass-light border-b border-dark-border py-12 sm:py-16 md:py-20",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-6",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)("div",{className:"text-sm sm:text-base text-gray-400 uppercase tracking-widest font-bold",children:"Welcome Back"})}),(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("div",{className:"text-5xl sm:text-6xl md:text-7xl font-black text-impact text-shadow-lg mb-4",children:c}),(0,a.jsx)("p",{className:"text-gray-300 text-lg sm:text-xl md:text-2xl font-bold text-shadow-lg",children:"Show up. Do the work. Earn the rank."}),f&&(0,a.jsx)("div",{className:"mt-4 inline-block px-6 py-2 bg-gradient-to-r from-warning/30 to-gold/30 border-2 border-warning rounded-lg text-warning text-sm sm:text-base font-black text-hero animate-pulse-glow",children:"\uD83D\uDC51 WORLD RECORD CANDIDATE"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"glass glass-border rounded-xl p-6 flex flex-col items-center",children:[(0,a.jsx)(p,{rank:o,size:"lg"}),(0,a.jsxs)("div",{className:"mt-6 space-y-2 text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-widest font-bold",children:"Current Rank"}),(0,a.jsx)("div",{className:"text-3xl sm:text-4xl font-black text-hero text-shadow-glow",children:m.AE[o-1].title}),S&&(0,a.jsxs)("div",{className:"text-sm text-accent pt-2",children:[k.percent,"% to ",S.title]})]})]}),(0,a.jsx)("div",{className:"glass glass-border rounded-xl p-6 border-2 hover:border-accent transition-all",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,a.jsx)(es.Z,{size:48,className:"mb-4 ".concat(C?"text-success drop-shadow-2xl":"text-gray-600"),strokeWidth:2.5}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-widest font-bold mb-2",children:"Today's Goal"}),(0,a.jsx)("div",{className:"text-4xl sm:text-5xl font-black text-hero text-accent text-shadow-glow",children:h}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-gray-300 mt-1",children:"PUSH-UPS"}),C&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-dark-border w-full",children:(0,a.jsxs)("div",{className:"text-sm text-success",children:["✓ ",C.pushups," completed today",C.pushups>=h&&" • Goal achieved!"]})})]})})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Proficiency: ",(0,a.jsx)("span",{className:"text-accent font-bold capitalize",children:u})]})})]})}),(0,a.jsx)("section",{className:"max-w-6xl mx-auto px-6 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"glass glass-border rounded-xl p-6",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider font-display mb-4",children:"Streak"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-5xl font-black text-hero text-accent text-shadow-glow",children:x}),(0,a.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["BEST ",g]})]}),(0,a.jsx)("div",{className:"text-6xl flex-shrink-0",children:"\uD83D\uDD25"})]})]}),(0,a.jsxs)("div",{className:"glass glass-border rounded-xl p-6",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider font-display mb-4",children:"Quick Info"}),(0,a.jsxs)("div",{className:"space-y-3 text-base",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Workouts Logged:"}),(0,a.jsx)("span",{className:"font-bold text-xl",children:y.length})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Streak Freezes:"}),(0,a.jsx)("span",{className:"font-bold text-xl",children:j})]}),(0,a.jsx)("div",{className:"border-t border-dark-border pt-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Multiplier:"}),(0,a.jsx)("span",{className:"text-accent font-bold text-xl",children:x<=3?"1.0x":x<=7?"1.1x":x<=14?"1.25x":x<=30?"1.5x":x<=60?"1.75x":"2.0x"})]})})]})]})]})}),(0,a.jsx)("section",{className:"max-w-6xl mx-auto px-6 pb-12",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("h3",{className:"text-xl font-display font-bold",children:"Log Workout"}),(0,a.jsx)("button",{onClick:()=>i(!n),className:"text-sm px-4 py-2 glass-light rounded border border-accent/50 hover:bg-accent/10 transition text-accent active:scale-95",children:n?"Simple Mode":"Advanced Mode"})]}),n?(0,a.jsx)(em,{}):(0,a.jsx)(er,{})]})})]}),"calendar"===e&&(0,a.jsx)("section",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-6 sm:py-8 md:py-12",children:(0,a.jsx)(eg.q,{})}),"leaderboard"===e&&(0,a.jsx)("section",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-6 sm:py-8 md:py-12",children:(0,a.jsx)(ep.j,{})}),"achievements"===e&&(0,a.jsx)("section",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-6 sm:py-8 md:py-12",children:(0,a.jsx)(ek,{})}),"iron-mode"===e&&(0,a.jsx)(e5,{onExit:()=>t("dashboard")}),(0,a.jsx)("footer",{className:"border-t border-dark-border glass-light py-6 sm:py-8 mt-8 sm:mt-12",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 text-center text-xs sm:text-sm text-gray-500",children:[(0,a.jsx)("p",{children:"Push-Up League • Discipline Over Motivation"}),(0,a.jsx)("p",{className:"mt-2",children:"v2.0.0 BETA • Full Integration"})]})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-dark relative flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"max-w-md w-full glass glass-border rounded-2xl p-8 text-center",children:[(0,a.jsx)("div",{className:"font-display text-4xl font-bold text-accent mb-4",children:"Push-Up League"}),(0,a.jsx)("p",{className:"text-gray-400 mb-8",children:"Track your progress, compete globally, and build unstoppable discipline"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>l("register"),className:"w-full py-3 bg-gradient-to-r from-accent to-accent-light text-dark font-bold rounded-lg hover:shadow-lg hover:shadow-accent/50 transition uppercase tracking-wider font-display",children:"Create Account"}),(0,a.jsx)("button",{onClick:()=>l("login"),className:"w-full py-3 glass-light border border-accent text-accent font-bold rounded-lg hover:bg-accent/10 transition uppercase tracking-wider font-display",children:"Log In"})]}),(0,a.jsxs)("div",{className:"mt-8 pt-6 border-t border-dark-border",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Continue as guest (data saved locally)"}),(0,a.jsx)("button",{onClick:()=>m.CT.setState({isAuthenticated:!0,username:"Guest"}),className:"mt-3 text-sm text-accent hover:text-accent-light transition",children:"Skip for now →"})]})]})})}},8251:function(e,t,s){"use strict";s.d(t,{Dw:function(){return d},uW:function(){return c}});var a=s(2249),r=s(2265),l=s(1945),n=s(6410);class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}initialize(){(0,n.w7)(e=>{e?this.handleUserLogin(e):this.handleUserLogout()}),this.syncInterval=setInterval(()=>{this.performPeriodicSync()},3e4),this.loadFromLocalStorage()}async handleUserLogin(e){let t=l.CT.getState();try{let s=await (0,n.et)(e.uid);s&&(t.setUserProfile(s.email,s.proficiency,s.maxPushupsInOneSet),l.CT.setState({userId:s.userId,username:s.username,email:s.email,isAuthenticated:!0,proficiency:s.proficiency,maxPushupsInOneSet:s.maxPushupsInOneSet,isWorldRecordCandidate:s.isWorldRecordCandidate,totalXp:s.totalXp,coins:s.coins,currentRank:s.currentRank,currentStreak:s.currentStreak,longestStreak:s.longestStreak,lastWorkoutDate:s.lastWorkoutDate,personalBest:s.personalBest,dailyGoal:s.dailyGoal,streakFreezes:s.streakFreezes}));let a=await (0,n.SB)(e.uid);a.length>0&&l.CT.setState({workouts:a.map(e=>({id:e.id,date:e.date,pushups:e.pushups,sets:e.sets,xpEarned:e.xpEarned,coinsEarned:e.coinsEarned||0,goalCompleted:e.goalCompleted||!1,streakMultiplier:e.streakMultiplier,challengeBonus:e.challengeBonus,isLocked:e.isLocked,lockedAt:e.lockedAt}))});try{let t=await (0,n.Mp)(e.uid);t.length>0&&l.CT.setState({achievements:t.map(e=>({id:e.id,title:e.title,description:e.description,unlockedAt:e.unlockedAt,type:e.type}))})}catch(e){console.warn("Could not load achievements from Firebase:",e)}this.unsubscribeWorkouts=(0,n.vA)(e.uid,e=>{l.CT.setState({workouts:e.map(e=>({id:e.id,date:e.date,pushups:e.pushups,sets:e.sets,xpEarned:e.xpEarned,coinsEarned:e.coinsEarned||0,goalCompleted:e.goalCompleted||!1,streakMultiplier:e.streakMultiplier,challengeBonus:e.challengeBonus,isLocked:e.isLocked,lockedAt:e.lockedAt}))})}),this.saveToLocalStorage()}catch(e){console.error("Error loading user data from Firebase:",e)}}handleUserLogout(){this.unsubscribeWorkouts&&(this.unsubscribeWorkouts(),this.unsubscribeWorkouts=null),this.saveToLocalStorage()}async syncToFirebase(){let e=l.CT.getState();if(e.isAuthenticated&&e.userId)try{await (0,n.Lj)(e.userId,{userId:e.userId,username:e.username,email:e.email,proficiency:e.proficiency,maxPushupsInOneSet:e.maxPushupsInOneSet,isWorldRecordCandidate:e.isWorldRecordCandidate,totalXp:e.totalXp,coins:e.coins,currentRank:e.currentRank,currentStreak:e.currentStreak,longestStreak:e.longestStreak,lastWorkoutDate:e.lastWorkoutDate,personalBest:e.personalBest,dailyGoal:e.dailyGoal,streakFreezes:e.streakFreezes});let t=await (0,n.SB)(e.userId),s=new Set(t.map(e=>e.id));for(let t of e.workouts)s.has(t.id)||await (0,n.Mg)({...t,sets:t.sets,userId:e.userId,createdAt:null});try{let t=await (0,n.Mp)(e.userId),s=new Set(t.map(e=>e.id));for(let t of e.achievements)s.has(t.id)||await (0,n.Sz)({...t,userId:e.userId})}catch(e){console.warn("Could not sync achievements to Firebase:",e)}this.lastSyncTimestamp=Date.now()}catch(e){console.error("Error syncing to Firebase:",e)}}async performPeriodicSync(){l.CT.getState().isAuthenticated&&await this.syncToFirebase(),this.saveToLocalStorage()}saveToLocalStorage(){let e=l.CT.getState(),t={userId:e.userId,username:e.username,email:e.email,proficiency:e.proficiency,maxPushupsInOneSet:e.maxPushupsInOneSet,isWorldRecordCandidate:e.isWorldRecordCandidate,totalXp:e.totalXp,coins:e.coins,currentRank:e.currentRank,currentStreak:e.currentStreak,longestStreak:e.longestStreak,lastWorkoutDate:e.lastWorkoutDate,workouts:e.workouts,achievements:e.achievements,personalBest:e.personalBest,dailyGoal:e.dailyGoal,streakFreezes:e.streakFreezes,powerUpPurchaseHistory:e.powerUpPurchaseHistory,lastSyncTimestamp:this.lastSyncTimestamp};try{localStorage.setItem("pushup-league-data",JSON.stringify(t))}catch(e){console.error("Error saving to localStorage:",e)}}loadFromLocalStorage(){try{let e=localStorage.getItem("pushup-league-data");if(e){let t=JSON.parse(e);l.CT.setState({userId:t.userId,username:t.username,email:t.email,proficiency:t.proficiency||"beginner",maxPushupsInOneSet:t.maxPushupsInOneSet||10,isWorldRecordCandidate:t.isWorldRecordCandidate||!1,totalXp:t.totalXp||0,coins:t.coins||0,currentRank:t.currentRank||1,currentStreak:t.currentStreak||0,longestStreak:t.longestStreak||0,lastWorkoutDate:t.lastWorkoutDate||null,workouts:t.workouts||[],achievements:t.achievements||[],personalBest:t.personalBest||0,dailyGoal:t.dailyGoal||50,streakFreezes:t.streakFreezes||1,powerUpPurchaseHistory:t.powerUpPurchaseHistory||l.CT.getState().powerUpPurchaseHistory}),this.lastSyncTimestamp=t.lastSyncTimestamp||0}}catch(e){console.error("Error loading from localStorage:",e)}}async forceSyncNow(){await this.syncToFirebase(),this.saveToLocalStorage()}cleanup(){this.unsubscribeWorkouts&&this.unsubscribeWorkouts(),this.syncInterval&&clearInterval(this.syncInterval)}constructor(){(0,a._)(this,"unsubscribeWorkouts",null),(0,a._)(this,"syncInterval",null),(0,a._)(this,"lastSyncTimestamp",0)}}(0,a._)(i,"instance",void 0);let d=i.getInstance();function c(){(0,r.useEffect)(()=>(d.initialize(),()=>{d.cleanup()}),[])}}},function(e){e.O(0,[358,139,47,212,119,677,971,117,744],function(){return e(e.s=796)}),_N_E=e.O()}]);